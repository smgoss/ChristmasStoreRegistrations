(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71094,89223,32158,69993,e=>{"use strict";var t;e.s(["AMPLIFY_SYMBOL",()=>c,"Hub",()=>f,"HubInternal",()=>p],71094),e.s(["ConsoleLogger",()=>a],32158),e.s(["AWS_CLOUDWATCH_CATEGORY",()=>n,"NO_HUBCALLBACK_PROVIDED_EXCEPTION",()=>i,"USER_AGENT_HEADER",()=>r],89223);let n="Logging",r="x-amz-user-agent",i="NoHubcallbackProvidedException";!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(t||(t={}));let o={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class a{_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let s=this.level;a.LOG_LEVEL&&(s=a.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);let c=o[s];if(!(o[e]>=c))return;let l=console.log.bind(console);e===t.ERROR&&console.error&&(l=console.error.bind(console)),e===t.WARN&&console.warn&&(l=console.warn.bind(console)),a.BIND_ALL_LOG_LEVELS&&(e===t.INFO&&console.info&&(l=console.info.bind(console)),e===t.DEBUG&&console.debug&&(l=console.debug.bind(console)));let u="[".concat(e,"] ").concat(this._ts()," ").concat(this.name),f="";if(1===r.length&&"string"==typeof r[0])l(f="".concat(u," - ").concat(r[0]));else if(1===r.length)f="".concat(u," ").concat(r[0]),l(u,r[0]);else if("string"==typeof r[0]){let e=r.slice(1);1===e.length&&(e=e[0]),f="".concat(u," - ").concat(r[0]," ").concat(e),l("".concat(u," - ").concat(r[0]),e)}else f="".concat(u," ").concat(r),l(u,r);for(let e of this._pluggables){let t={message:f,timestamp:Date.now()};e.pushLogs([t])}}log(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t.INFO,...n)}info(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t.INFO,...n)}warn(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t.WARN,...n)}error(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t.ERROR,...n)}debug(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t.DEBUG,...n)}verbose(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t.VERBOSE,...n)}addPluggable(e){e&&e.getCategoryName()===n&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}constructor(e,n=t.WARN){this.name=e,this.level=n,this._pluggables=[]}}a.LOG_LEVEL=null,a.BIND_ALL_LOG_LEVELS=!1,e.s(["AmplifyError",()=>s],69993);class s extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:r,metadata:i}){if(super(e),this.name=t,this.underlyingError=r,this.recoverySuggestion=n,i){let{extendedRequestId:e,httpStatusCode:t,requestId:n}=i;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=s,Object.setPrototypeOf(this,s.prototype)}}let c="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",l=new a("Hub");class u{_remove(e,t){let n=this.listeners.get(e);if(!n)return void l.warn("No listeners for ".concat(e));this.listeners.set(e,[...n.filter(e=>{let{callback:n}=e;return n!==t})])}dispatch(e,t,n,r){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&r!==c&&l.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences"));let i={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){l.error(e)}}listen(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noname";if("function"!=typeof t)throw new s({name:i,message:"No callback supplied to Hub"});let r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),r.push({name:n,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach(r=>{l.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(e){l.error(e)}})}constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}}let f=new u("__default__"),p=new u("internal-hub")},45618,3752,2965,e=>{"use strict";function t(e){return"function"==typeof e}function n(e){return function(n){if(t(null==n?void 0:n.lift))return n.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}e.s([],45618),Symbol(),e.s(["operate",()=>n],2965),e.s(["isFunction",()=>t],3752)},90571,e=>{"use strict";e.s(["__asyncGenerator",()=>l,"__asyncValues",()=>u,"__await",()=>c,"__awaiter",()=>r,"__extends",()=>n,"__generator",()=>i,"__read",()=>a,"__spreadArray",()=>s,"__values",()=>o]);var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var l=[s,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function l(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{var n;(n=i[e](t)).value instanceof c?Promise.resolve(n.value.v).then(l,u):f(o[0][2],n)}catch(e){f(o[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function u(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=o(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){var o,a,s;o=r,a=i,s=(t=e[n](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:s})},a)})}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},78827,5698,27608,94059,32720,33981,94426,47491,8025,73617,80710,e=>{"use strict";e.s([],78827),e.i(45618),e.s(["addSchemaToClient",()=>eD],47491),e.s(["map",()=>I],94059);var t,n,r=e.i(2965);e.s(["createOperatorSubscriber",()=>O],27608);var i=e.i(90571),o=e.i(3752),a=function(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function s(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var c=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,r,s,c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var l=(0,i.__values)(c),f=l.next();!f.done;f=l.next())f.value.remove(this)}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else c.remove(this);var p=this.initialTeardown;if((0,o.isFunction)(p))try{p()}catch(e){s=e instanceof a?e.errors:[e]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=(0,i.__values)(d),y=h.next();!y.done;y=h.next()){var v=y.value;try{u(v)}catch(e){s=null!=s?s:[],e instanceof a?s=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(s)),(0,i.__read)(e.errors)):s.push(e)}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}if(s)throw new a(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)u(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!=(n=this._finalizers)?n:[]).push(e)}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&s(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&s(n,e),e instanceof t&&e._removeParent(this)},(e=new t).closed=!0,t.EMPTY=e,t}();function l(e){return e instanceof c||e&&"closed"in e&&(0,o.isFunction)(e.remove)&&(0,o.isFunction)(e.add)&&(0,o.isFunction)(e.unsubscribe)}function u(e){(0,o.isFunction)(e)?e():e.unsubscribe()}c.EMPTY;var f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};e.s(["reportUnhandledError",()=>d],5698);var p={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=p.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,i.__spreadArray)([e,t],(0,i.__read)(n))):setTimeout.apply(void 0,(0,i.__spreadArray)([e,t],(0,i.__read)(n)))},clearTimeout:function(e){var t=p.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function d(e){p.setTimeout(function(){var t=f.onUnhandledError;if(t)t(e);else throw e})}function h(){}var y=v("C",void 0,void 0);function v(e,t,n){return{kind:e,value:t,error:n}}var m=null,g=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,l(t)&&t.add(n)):n.destination=N,n}return(0,i.__extends)(t,e),t.create=function(e,t,n){return new T(e,t,n)},t.prototype.next=function(e){this.isStopped?_(v("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_(v("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(y,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(c),E=Function.prototype.bind;function b(e,t){return E.call(e,t)}var S=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){A(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){A(e)}else A(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){A(e)}},e}(),T=function(e){function t(t,n,r){var i,a,s=e.call(this)||this;return(0,o.isFunction)(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&f.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&b(t.next,a),error:t.error&&b(t.error,a),complete:t.complete&&b(t.complete,a)}):i=t,s.destination=new S(i),s}return(0,i.__extends)(t,e),t}(g);function A(e){if(f.useDeprecatedSynchronousErrorHandling)f.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=e);else d(e)}function _(e,t){var n=f.onStoppedNotification;n&&p.setTimeout(function(){return n(e,t)})}var N={closed:!0,next:h,error:function(e){throw e},complete:h};function O(e,t,n,r,i){return new w(e,t,n,r,i)}var w=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,i.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null==(t=this.onFinalize)||t.call(this)}},t}(g);function I(e,t){return(0,r.operate)(function(n,r){var i=0;n.subscribe(O(r,function(n){r.next(e.call(t,n,i++))}))})}function C(e){let t=new Set;for(let n of e.attributes||[])if(function(e){if((null==e?void 0:e.type)==="auth"&&"object"==typeof(null==e?void 0:e.properties)){var t,n;if(Array.isArray(null==e||null==(t=e.properties)?void 0:t.rules))return(null==e||null==(n=e.properties)?void 0:n.rules).every(e=>!!e.allow)}return!1}(n))for(let e of n.properties.rules)"owner"===e.allow?t.add(e.ownerField||"owner"):"groups"===e.allow&&void 0!==e.groupsField&&t.add(e.groupsField);return Array.from(t)}function k(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}function R(e){let t,n,r=new Promise((e,r)=>{t=e,n=r});return e(r).then(e=>{t(e)}).catch(e=>{n(e)}),r}let x=new WeakMap;function D(e,t){return x.set(t,e),e.finally(()=>{x.delete(t)})}let L={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},P={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"Int",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},M=e=>1===e.length?e[0]:e.reduce((e,t,n)=>0===n?t:e+k(t),""),U=(e,t,n)=>{if(!n)return null;let r={};for(let[o,a]of Object.entries(n)){var i;let n=t?null==(i=e.models[t])?void 0:i.fields[o]:void 0,s={fieldDef:n,value:a};!function(e){var t,n;return"object"==typeof(null==(t=e.fieldDef)?void 0:t.type)&&"model"in e.fieldDef.type&&"string"==typeof e.fieldDef.type.model&&e.fieldDef.isArray&&Array.isArray(null==(n=e.value)?void 0:n.items)}(s)?function(e){return"object"==typeof(null==e?void 0:e.type)&&"model"in e.type&&"string"==typeof e.type.model}(n)?r[o]=U(e,n.type.model,a):r[o]=a:r[o]=s.value.items.map(t=>U(e,s.fieldDef.type.model,t))}return r};function F(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=r.models[t],c=s.fields,l=Object.entries(c).filter(e=>{var t;let[n,r]=e;return(null==r||null==(t=r.type)?void 0:t.model)!==void 0}).map(e=>{let[t]=e;return t});return n.map(t=>{if(null==t)return t;let n={};for(let y of l){var u,f,p,d,h;let l=c[y],v=(null==l?void 0:l.type).model,m=r.models[v],g=m.primaryKeyInfo.primaryKeyFieldName,E=m.primaryKeyInfo.sortKeyFieldNames,b=null==(u=l.association)?void 0:u.connectionType,S=[];l.association&&"associatedWith"in l.association&&(S=l.association.associatedWith);let T=[];switch(l.association&&"targetNames"in l.association&&T.push(...l.association.targetNames),b){case L.BELONGS_TO:{let r=E.reduce((e,n)=>(t[n]&&(e[n]=t[n]),e),{});if((null==(f=e.models[v])?void 0:f.get)===void 0)break;a?n[y]=(n,a)=>t[T[0]]?e.models[v].get(n,{[g]:t[T[0]],...r},{authMode:(null==a?void 0:a.authMode)||i,authToken:(null==a?void 0:a.authToken)||o}):{data:null}:n[y]=n=>t[T[0]]?e.models[v].get({[g]:t[T[0]],...r},{authMode:(null==n?void 0:n.authMode)||i,authToken:(null==n?void 0:n.authToken)||o}):{data:null};break}case L.HAS_ONE:case L.HAS_MANY:{let r=b===L.HAS_ONE?e=>({data:(null==e?void 0:e.data.shift())||null,errors:e.errors,extensions:e.extensions}):e=>e,c=s.primaryKeyInfo.primaryKeyFieldName,l=s.primaryKeyInfo.sortKeyFieldNames,u=m.fields[S[0]];if(u.type.model){let s=[];u.association&&"targetNames"in u.association&&(s=null==(h=u.association)?void 0:h.targetNames);let f=s.map((e,n)=>0===n?{[e]:{eq:t[c]}}:{[e]:{eq:t[l[n-1]]}});if((null==(d=e.models[v])?void 0:d.list)===void 0)break;a?n[y]=(n,a)=>t[c]?R(async t=>{let s=D(e.models[v].list(n,{filter:{and:f},limit:null==a?void 0:a.limit,nextToken:null==a?void 0:a.nextToken,authMode:(null==a?void 0:a.authMode)||i,authToken:(null==a?void 0:a.authToken)||o}),t);return r(await s)}):[]:n[y]=n=>t[c]?R(async t=>{let a=D(e.models[v].list({filter:{and:f},limit:null==n?void 0:n.limit,nextToken:null==n?void 0:n.nextToken,authMode:(null==n?void 0:n.authMode)||i,authToken:(null==n?void 0:n.authToken)||o}),t);return r(await a)}):[];break}let f=S.map((e,n)=>0===n?{[e]:{eq:t[c]}}:{[e]:{eq:t[l[n-1]]}});if((null==(p=e.models[v])?void 0:p.list)===void 0)break;a?n[y]=(n,a)=>t[c]?R(async t=>{let s=D(e.models[v].list(n,{filter:{and:f},limit:null==a?void 0:a.limit,nextToken:null==a?void 0:a.nextToken,authMode:(null==a?void 0:a.authMode)||i,authToken:(null==a?void 0:a.authToken)||o}),t);return r(await s)}):[]:n[y]=n=>t[c]?R(async t=>{let a=D(e.models[v].list({filter:{and:f},limit:null==n?void 0:n.limit,nextToken:null==n?void 0:n.nextToken,authMode:(null==n?void 0:n.authMode)||i,authToken:(null==n?void 0:n.authToken)||o}),t);return r(await a)}):[]}}}return{...t,...n}})}let j={CREATE:{operationPrefix:"create",usePlural:!1},GET:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVEQUERY:{operationPrefix:"observeQuery",usePlural:!1}},B=(e,t)=>{let{fields:n}=e;return Object.fromEntries(Object.values(n).map(e=>{let{type:n,name:r}=e;return"string"==typeof n.enum?[r,G]:"string"==typeof n.nonModel?[r,B(t.nonModels[n.nonModel],t)]:"string"==typeof n?[r,G]:void 0}).filter(e=>void 0!==e))},G="";function K(e){let t=[];return Object.entries(e).forEach(e=>{let[n,r]=e;r===G?t.push(n):"object"==typeof r&&null!==r&&((null==r?void 0:r.items)?t.push(n,"{","items","{",K(r.items),"}","}"):t.push(n,"{",K(r),"}"))}),t.join(" ")}function V(e,t,n){let r=e.models[t];return K(function(e,t,n){let r=(t,n)=>{var i,o,a,s,c,l,u;let[f,...p]=t.split("."),d=p[0],h=null!=(c=e.models[n])?c:e.nonModels[n],y=null==h?void 0:h.fields,v=null==y||null==(o=y[f])||null==(i=o.type)?void 0:i.model,m=e.models[v],g=null==y||null==(s=y[f])||null==(a=s.type)?void 0:a.nonModel,E=e.nonModels[g],b=m?"model":E?"nonModel":"field";if("nonModel"===b){if(!d)throw Error("".concat(f," must declare a wildcard (*) or a field of custom type ").concat(g));return"*"===d?{[f]:B(E,e)}:{[f]:r(p.join("."),g)}}if("model"===b){let t={};if(!d)throw Error("".concat(f," must declare a wildcard (*) or a field of model ").concat(v));return t="*"===d?{[f]:((e,t)=>{let{fields:n}=e,r=Object.values(n).map(e=>{let{type:n,name:r}=e;return"string"==typeof n.enum||"string"==typeof n?[r,G]:"string"==typeof n.nonModel?[r,B(t.nonModels[n.nonModel],t)]:void 0}).filter(e=>void 0!==e),i=C(e).map(e=>[e,G]);return Object.fromEntries(r.concat(i))})(e.models[v],e)}:{[f]:r(p.join("."),v)},(null==(l=y[f])?void 0:l.isArray)&&(t={[f]:{items:t[f]}}),t}{let t=null==y?void 0:y[f],r=e.nonModels[n],i=null==r||null==(u=r.fields)?void 0:u[f];if(r){if(!i)throw Error("".concat(f," is not a field of custom type ").concat(n))}else{let e=C(h).includes(f);if(!t&&!e)throw Error("".concat(f," is not a field of model ").concat(n))}return{[f]:G}}};return n.reduce((e,n)=>(function e(t,n){let r=e=>e&&"object"==typeof e;for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(n,i)&&r(n[i])?e(t[i],n[i]):n[i]=t[i]);return n})(r(n,t),e),{})}(e,t,null!=n?n:function(e){let{fields:t}=e,n=Object.values(t).map(e=>{let{type:t,name:n}=e;if("string"==typeof t)return n;if("object"==typeof t){if("string"==typeof(null==t?void 0:t.enum))return n;else if("string"==typeof(null==t?void 0:t.nonModel))return"".concat(n,".").concat("*")}}).filter(Boolean),r=C(e);return Array.from(new Set(n.concat(r)))}(r)))}function q(e,t,n,r,i){let o,a,s,c,l,{name:u,pluralName:f,fields:p,primaryKeyInfo:{isCustomPrimaryKey:d,primaryKeyFieldName:h,sortKeyFieldNames:y},attributes:v}=t,m=u.charAt(0).toUpperCase()+u.slice(1),g=f.charAt(0).toUpperCase()+f.slice(1),{operationPrefix:E,usePlural:b}=j[n],{selectionSet:S}=r||{};if(E)o="".concat(E).concat(b?g:m);else if(i){let{queryField:e,pk:t,sk:n=[]}=i;o=e;let r={};if(1===n.length){let[e]=n,t=P["string"==typeof p[e].type?p[e].type:"String"];r={[e]:"Model".concat(t,"KeyConditionInput")}}else if(n.length>1){var T,A;let t=M(n),i=null==v||null==(A=v.find(t=>{var n;return(null==t||null==(n=t.properties)?void 0:n.queryField)===e}))||null==(T=A.properties)?void 0:T.name;r={[t]:"Model".concat(k(u)).concat(k(i),"CompositeKeyConditionInput")}}a={[t]:"".concat(Object.prototype.hasOwnProperty.call(p[t].type,"enum")?p[t].type.enum:p[t].type,"!"),...r}}else throw Error("Error generating GraphQL Document - invalid operation name");let _=V(e,u,S),N={[h]:"".concat(p[h].type,"!")},O={},w=e=>{if(0===y.length)return{};if("get"===e)return y.reduce((t,n)=>{let r=p[n].type;return"get"===e&&(t[n]="".concat(r,"!")),t},{});if(1!==y.length)return{[M(y)]:"Model".concat(k(u),"PrimaryCompositeKeyConditionInput")};{let[e]=y,t=P["string"==typeof p[e].type?p[e].type:"String"];return{[e]:"Model".concat(t,"KeyConditionInput")}}};switch(d&&(Object.assign(N,w("get")),Object.assign(O,{[h]:"".concat(p[h].type),sortDirection:"ModelSortDirection"},w("list"))),n){case"CREATE":case"UPDATE":case"DELETE":null!=l||(l={input:"".concat(E.charAt(0).toLocaleUpperCase()+E.slice(1)).concat(m,"Input!")}),null!=s||(s="mutation");case"GET":null!=l||(l=N),null!=c||(c=_);case"LIST":null!=l||(l={...O,filter:"Model".concat(m,"FilterInput"),limit:"Int",nextToken:"String"}),null!=s||(s="query"),null!=c||(c="items { ".concat(_," } nextToken __typename"));case"INDEX_QUERY":null!=l||(l={...a,filter:"Model".concat(m,"FilterInput"),sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),null!=s||(s="query"),null!=c||(c="items { ".concat(_," } nextToken __typename"));case"ONCREATE":case"ONUPDATE":case"ONDELETE":null!=l||(l={filter:"ModelSubscription".concat(m,"FilterInput")}),null!=s||(s="subscription"),null!=c||(c=_);break;default:throw Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return"".concat(s).concat(l?"(".concat(Object.entries(l).map(e=>{let[t,n]=e;return"$".concat(t,": ").concat(n)}),")"):""," { ").concat(o).concat(l?"(".concat(Object.keys(l).map(e=>"".concat(e,": $").concat(e)),")"):""," { ").concat(c," } }")}function W(e,t,n,r,i){let{fields:o,primaryKeyInfo:{isCustomPrimaryKey:a,primaryKeyFieldName:s,sortKeyFieldNames:c}}=e,l=(null==c?void 0:c.length)&&M(c),u={};switch(t){case"CREATE":u={input:n?Y(n,e,r):{}};break;case"UPDATE":u={input:n?Object.fromEntries(Object.entries(Y(n,e,r)).filter(t=>{let[n]=t;return o[n]?!o[n].isReadOnly:!C(e).includes(n)})):{}};break;case"GET":case"DELETE":n&&(u=a?[s,...c].reduce((e,t)=>(e[t]=n[t],e),{}):{[s]:n[s]}),"DELETE"===t&&(u={input:u});break;case"LIST":(null==n?void 0:n.filter)&&(u.filter=n.filter),(null==n?void 0:n.sortDirection)&&(u.sortDirection=n.sortDirection),n&&n[s]&&(u[s]=n[s]),l&&n&&n[l]&&(u[l]=n[l]),(null==n?void 0:n.nextToken)&&(u.nextToken=n.nextToken),(null==n?void 0:n.limit)&&(u.limit=n.limit);break;case"INDEX_QUERY":{let{pk:e,sk:t=[]}=i,r=(null==t?void 0:t.length)&&M(t);u[e]=n[e],r&&n&&n[r]&&(u[r]=n[r]),(null==n?void 0:n.filter)&&(u.filter=n.filter),(null==n?void 0:n.sortDirection)&&(u.sortDirection=n.sortDirection),(null==n?void 0:n.nextToken)&&(u.nextToken=n.nextToken),(null==n?void 0:n.limit)&&(u.limit=n.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":(null==n?void 0:n.filter)&&(u={filter:n.filter});break;case"OBSERVEQUERY":throw Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:throw Error("Unhandled operation case: ".concat(t))}return u}function Y(e,t,n){let{fields:r}=t,i={};return Object.entries(e).forEach(e=>{var t,o;let[a,s]=e,c=null==(t=r[a])?void 0:t.type,l=null==c?void 0:c.model;if(l){let e=null==(o=r[a])?void 0:o.association,t=n.models[l].primaryKeyInfo;(null==e?void 0:e.connectionType)===L.HAS_ONE&&e.targetNames.forEach((t,n)=>{let r=e.associatedWith[n];i[t]=s[r]}),(null==e?void 0:e.connectionType)===L.BELONGS_TO&&e.targetNames.forEach((e,n)=>{if(0===n){let n=t.primaryKeyFieldName;i[e]=s[n]}else{let r=t.sortKeyFieldNames[n-1];i[e]=s[r]}})}else i[a]=s}),i}function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t(e);return{authMode:n.authMode||r.authMode,authToken:n.authToken||r.authToken}}function Q(e,t,n){let r=t(e).headers||{};return n&&(r=n),r}function z(e){if(null==e?void 0:e.errors)return{...e,data:[]};throw e}function J(e){if(e.errors)return{...e,data:null};throw e}e.s(["AiAction",()=>t,"INTERNAL_USER_AGENT_OVERRIDE",()=>X,"createUserAgentOverride",()=>Z,"getCustomUserAgentDetails",()=>$],32720);let X=Symbol("INTERNAL_USER_AGENT_OVERRIDE");!function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnStreamEvent="7",e.Generation="8",e.UpdateConversation="9"}(t||(t={}));let $=e=>({category:"ai",action:e});function Z(e){return e?{[X]:e}:void 0}function ee(e,t,n,r,i,o,a){let s=void 0!==r.arguments;return function(){let c,l;for(var u,f,p,d,h,y,v,m,g,E,b,S=arguments.length,T=Array(S),A=0;A<S;A++)T[A]=arguments[A];let _=T[T.length-1];if(i)if("symbol"==typeof(null==(E=T[0])||null==(b=E.token)?void 0:b.value))c=T[0];else throw Error("Invalid first argument passed to ".concat(r.name,". Expected contextSpec"));return(s&&(l=i?T[1]:T[0]),"subscription"===n)?function(e,t,n,r,i,o,a){let{name:s}=n,c=H(e,r,o),l=Q(e,r,null==o?void 0:o.headers),u=en(n),f=er(n),p=ei(t,n),d=et(n.type,"model")?n.type.model:void 0,h="\n    ".concat("subscription".toLocaleLowerCase()).concat(u," {\n      ").concat(s).concat(f," ").concat(p,"\n    }\n  "),y=eo(n,i),v=Z(a);return e.graphql({...c,query:h,variables:y,...v},l).pipe(I(n=>{let[r]=Object.keys(n.data),i=n.data[r],[o]=d?F(e,d,[i],t,c.authMode,c.authToken):[i];return o}))}(e,t,r,o,l,_,a):(u=e,f=t,p=n,d=r,h=o,y=l,v=_,m=c,g=a,R(async e=>{let{name:t}=d,n=H(u,h,v),r=Q(u,h,null==v?void 0:v.headers),i=en(d),o=er(d),a=ei(f,d),s=et(d.type,"model")?d.type.model:void 0,c="\n    ".concat(p.toLocaleLowerCase()).concat(i," {\n      ").concat(t).concat(o," ").concat(a,"\n    }\n  "),l=eo(d,y),E=Z(g);try{let t=m?u.graphql(m,{...n,query:c,variables:l},r):u.graphql({...n,query:c,variables:l,...E},r),i=D(t,e),{data:o,extensions:a}=await i;if(!o)return{data:null,extensions:a};{let[e]=Object.keys(o),t=Array.isArray(o[e]),r=t?o[e].filter(e=>e):o[e],i=s?F(u,s,t?r:[r],f,n.authMode,n.authToken,!!m):r;return{data:!t&&Array.isArray(i)?i.shift():i,extensions:a}}}catch(r){let{data:e,errors:t}=r;if(!e||0===Object.keys(e).length||!t)return J(r);{let[i]=Object.keys(e),o=Array.isArray(e[i]),a=o?e[i].filter(e=>e):e[i];if(!a)return J(r);{let e=s?F(u,s,o?a:[a],f,n.authMode,n.authToken,!!m):a;return{data:!o&&Array.isArray(e)?e.shift():e,errors:t}}}}}))}}function et(e,t){return"string"==typeof e[t]}function en(e){if(void 0===e.arguments)return"";let t=Object.entries(e.arguments).map(e=>{let[t,n]=e,r=function(e){let{type:t,isRequired:n}=e,r=n?"!":"";return t instanceof Object&&"enum"in t?"".concat(t.enum).concat(r):t instanceof Object&&"input"in t?"".concat(t.input).concat(r):"".concat(t).concat(r)}(n),i=n.isArray?"[".concat(r,"]").concat(n.isArrayNullable?"":"!"):r;return"$".concat(t,": ").concat(i)}).join(", ");return t.length>0?"(".concat(t,")"):""}function er(e){if(void 0===e.arguments)return"";let t=Object.keys(e.arguments).map(e=>"".concat(e,": $").concat(e)).join(", ");return t.length>0?"(".concat(t,")"):""}function ei(e,t){if(et(t,"type")||et(t.type,"enum"))return"";if(et(t.type,"nonModel")){let n=e.nonModels[t.type.nonModel];return"{".concat(K(B(n,e)),"}")}return et(t.type,"model")?"{".concat(V(e,t.type.model),"}"):""}function eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if(void 0===e.arguments)return n;for(let r of Object.values(e.arguments))if(void 0!==t[r.name])n[r.name]=t[r.name];else if(r.isRequired)throw Error("".concat(e.name," requires arguments '").concat(r.name,"'"));return n}let ea={queries:"query",mutations:"mutation",subscriptions:"subscription"};function es(e,t,n,r){if(!t)return{};let i=t.modelIntrospection;if(!i)return{};let o=i[n];if(!o)return{};let a={},s=null===r(e).amplify;for(let t of Object.values(o))a[t.name]=ee(e,i,ea[n],t,s,r);return a}function ec(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0;return o?(o,s,c)=>el(e,t,n,s,c,r,i,o,a):(o,s)=>el(e,t,n,o,s,r,i,void 0,a)}function el(e,t,n,r,i,o,a,s,c){return R(async l=>{let{name:u}=n,f=q(t,n,o,i),p=W(n,o,r,t),d=H(e,a,i),h=Q(e,a,null==i?void 0:i.headers),y=Z(c);try{let n=s?e.graphql(s,{...d,query:f,variables:p},h):e.graphql({...d,query:f,variables:p,...y},h),r=D(n,l),{data:o,extensions:a}=await r;if(!o)return{data:null,extensions:a};{let[n]=Object.keys(o),r=U(t,u,o[n]);if(null===r)return{data:null,extensions:a};{if(null==i?void 0:i.selectionSet)return{data:r,extensions:a};let[n]=F(e,u,[r],t,d.authMode,d.authToken,!!s);return{data:n,extensions:a}}}}catch(o){let{data:n,errors:r}=o;if(!n||0===Object.keys(n).length||!r)return J(o);{let[a]=Object.keys(n),c=U(t,u,n[a]);if(!c)return J(o);if(null==i?void 0:i.selectionSet)return{data:c,errors:r};{let[n]=F(e,u,[c],t,d.authMode,d.authToken,!!s);return{data:n,errors:r}}}}})}function eu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;return i?(i,a)=>ef(e,t,n,r,a,i,o):i=>ef(e,t,n,r,i,void 0,o)}function ef(e,t,n,r,i,o,a){return R(async s=>{let{name:c}=n,l=q(t,n,"LIST",i),u=W(n,"LIST",i,t),f=H(e,r,i),p=Q(e,r,null==i?void 0:i.headers),d=Z(a);try{let n=o?e.graphql(o,{...f,query:l,variables:u},p):e.graphql({...f,query:l,variables:u,...d},p),r=D(n,s),{data:a,extensions:h}=await r;if(void 0!==a){let[n]=Object.keys(a);if(a[n].items){let r=a[n].items.map(e=>U(t,c,e));if(null==i?void 0:i.selectionSet)return{data:r,nextToken:a[n].nextToken,extensions:h};return{data:F(e,c,r,t,f.authMode,f.authToken,!!o),nextToken:a[n].nextToken,extensions:h}}return{data:a[n],nextToken:a[n].nextToken,extensions:h}}}catch(a){let{data:n,errors:r}=a;if(null==n||0===Object.keys(n).length||!r)return z(a);{var h,y,v,m;let[s]=Object.keys(n);if(null==(h=n[s])||!h.items)return z(a);{let a=n[s].items.map(e=>U(t,c,e));if(a){if(null==i?void 0:i.selectionSet)return{data:a,nextToken:null==(v=n[s])?void 0:v.nextToken,errors:r};return{data:F(e,c,a,t,f.authMode,f.authToken,!!o),nextToken:null==(m=n[s])?void 0:m.nextToken,errors:r}}return{data:n[s],nextToken:null==(y=n[s])?void 0:y.nextToken,errors:r}}}}})}let ep={},ed=Array(64);for(let e=0;e+65<=90;e++){let t=String.fromCharCode(e+65);ep[t]=e,ed[e]=t}for(let e=0;e+97<=122;e++){let t=String.fromCharCode(e+97),n=e+26;ep[t]=n,ed[n]=t}for(let e=0;e<10;e++){ep[e.toString(10)]=e+52;let t=e.toString(10),n=e+52;ep[t]=n,ed[n]=t}ep["+"]=62,ed[62]="+",ep["/"]=63,ed[63]="/";let eh=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;let n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,i=0;for(let r=t,o=t+3;r<=o;r++)if("="!==e[r]){if(!(e[r]in ep))throw TypeError("Invalid character ".concat(e[r]," in base64 string."));n|=ep[e[r]]<<(o-r)*6,i+=6}else n>>=6;let o=t/4*3;n>>=i%8;let a=Math.floor(i/8);for(let e=0;e<a;e++){let t=(a-e-1)*8;r.setUint8(o+e,(n&255<<t)>>t)}}return new Uint8Array(n)};function ey(e){let t;if("string"==typeof e)t=new TextEncoder().encode(e);else t=e;let n="object"==typeof t&&"number"==typeof t.length,r="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!n&&!r)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let e=0;e<t.length;e+=3){let n=0,r=0;for(let i=e,o=Math.min(e+3,t.length);i<o;i++)n|=t[i]<<(o-i-1)*8,r+=8;let o=Math.ceil(r/6);n<<=6*o-r;for(let e=1;e<=o;e++){let t=(o-e)*6;i+=ed[(n&63<<t)>>t]}i+="==".slice(0,4-o)}return i}let ev=e=>{let{image:t}=e;return{image:{...t,source:{...t.source,bytes:eh(t.source.bytes)}}}},em=e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;return null!==n})),eg=e=>{let{content:t,createdAt:n,id:r,conversationId:i,role:o}=e;return{content:(null!=t?t:[]).map(e=>e.image?ev(e):e.document?(e=>{let{document:t}=e;return{document:{...t,source:{...t.source,bytes:eh(t.source.bytes)}}}})(e):e.toolUse?(e=>{let{toolUse:t}=e;return{toolUse:{...t,input:JSON.parse(t.input)}}})(e):e.toolResult?(e=>{let{toolResult:t}=e;return{toolResult:{toolUseId:t.toolUseId,content:t.content.map(e=>e.image?ev(e):e.json?(e=>{let{json:t}=e;return{json:JSON.parse(t)}})(e):em(e))}}})(e):em(e)),conversationId:i,createdAt:n,id:r,role:o}},eE=e=>{let{image:t}=e;return{image:{...t,source:{...t.source,bytes:ey(t.source.bytes)}}}},eb=(e,n,r,i,o,a,s,c,l,u)=>{if(!r)throw Error("An error occurred converting a ".concat(a," conversation: Missing ID"));return{id:r,createdAt:i,updatedAt:o,metadata:l,name:u,onStreamEvent:((e,n,r,i,o)=>a=>{let{conversations:s}=n;return s?ee(e,n,"subscription",s[i].message.subscribe,!1,o,$(t.OnStreamEvent))({conversationId:r}).subscribe(e=>{let{next:t,error:n}=(e=>{let{id:t,conversationId:n,associatedUserMessageId:r,contentBlockIndex:i,contentBlockDoneAtIndex:o,contentBlockDeltaIndex:a,contentBlockText:s,contentBlockToolUse:c,stopReason:l,errors:u}=e;return u?{error:{id:t,conversationId:n,associatedUserMessageId:r,errors:u}}:{next:Object.fromEntries(Object.entries({id:t,conversationId:n,associatedUserMessageId:r,contentBlockIndex:i,contentBlockDoneAtIndex:o,contentBlockDeltaIndex:a,text:s,toolUse:(e=>{if(e)return{...e,input:JSON.parse(e.input)}})(c),stopReason:l}).filter(e=>{let[t,n]=e;return null!==n}))}})(e);n&&a.error(n),t&&a.next(t)}):{}})(e,n,r,a,c),sendMessage:((e,n,r,i,o)=>async a=>{let{conversations:s}=n;if(!s)return{};let{content:c,aiContext:l,toolConfiguration:u}="string"==typeof a?{content:[{text:a}]}:a,f=ee(e,n,"mutation",s[i].message.send,!1,o,$(t.SendMessage)),{data:p,errors:d}=await f({conversationId:r,content:c.map(e=>e.image?eE(e):e.document?(e=>{let{document:t}=e;return{document:{...t,source:{...t.source,bytes:ey(t.source.bytes)}}}})(e):e.toolResult?(e=>{let{toolResult:t}=e;return{toolResult:{...t,content:t.content.map(e=>e.image?eE(e):e.json?(e=>{let{json:t}=e;return{json:JSON.stringify(t)}})(e):e)}}})(e):e),...l&&{aiContext:JSON.stringify(l)},...u&&{toolConfiguration:(e=>{let{tools:t}=e;return{tools:Object.entries(t).map(e=>{let[t,n]=e;return{toolSpec:{name:t,description:n.description,inputSchema:{json:JSON.stringify(n.inputSchema.json)}}}})}})(u)}});return{data:p?eg(p):p,errors:d}})(e,n,r,a,c),listMessages:async i=>{let o=eu(e,n,s,c,!1,$(t.ListMessages)),{data:a,nextToken:l,errors:u}=await o({...i,filter:{conversationId:{eq:r}}});return{data:a.map(e=>eg(e)),nextToken:l,errors:u}}}},eS=(e,n,r,i,o,a)=>async s=>{let{name:c,metadata:l}=null!=s?s:{},u=JSON.stringify(l),f=ec(e,n,i,"CREATE",a,!1,$(t.CreateConversation)),{data:p,errors:d}=await f({name:c,metadata:u});return{data:eb(e,n,null==p?void 0:p.id,null==p?void 0:p.createdAt,null==p?void 0:p.updatedAt,r,o,a,null==p?void 0:p.metadata,null==p?void 0:p.name),errors:d}},eT=(e,n,r,i,o,a)=>async s=>{let{id:c}=s,l=ec(e,n,i,"GET",a,!1,$(t.GetConversation)),{data:u,errors:f}=await l({id:c});return{data:u?eb(e,n,u.id,u.createdAt,u.updatedAt,r,o,a,null==u?void 0:u.metadata,null==u?void 0:u.name):u,errors:f}},eA=(e,n,r,i,o,a)=>async s=>{let c=eu(e,n,i,a,!1,$(t.ListConversations)),{data:l,nextToken:u,errors:f}=await c(s);return{data:l.map(t=>eb(e,n,t.id,t.createdAt,t.updatedAt,r,o,a,null==t?void 0:t.metadata,null==t?void 0:t.name)),nextToken:u,errors:f}},e_=(e,n,r,i,o,a)=>async s=>{let{id:c}=s,l=ec(e,n,i,"DELETE",a,!1,$(t.DeleteConversation)),{data:u,errors:f}=await l({id:c});return{data:u?eb(e,n,null==u?void 0:u.id,null==u?void 0:u.createdAt,null==u?void 0:u.updatedAt,r,o,a,null==u?void 0:u.metadata,null==u?void 0:u.name):u,errors:f}},eN=(e,n,r,i,o,a)=>async s=>{let{id:c,metadata:l,name:u}=s,f=JSON.stringify(l),p=ec(e,n,i,"UPDATE",a,!1,$(t.UpdateConversation)),{data:d,errors:h}=await p({id:c,metadata:f,name:u});return{data:d?eb(e,n,null==d?void 0:d.id,null==d?void 0:d.createdAt,null==d?void 0:d.updatedAt,r,o,a,null==d?void 0:d.metadata,null==d?void 0:d.name):d,errors:h}};function eO(e,t,n,r,i,o,a){return R(async s=>{let{name:c}=n,l=q(t,n,"INDEX_QUERY",o,r),u=W(n,"INDEX_QUERY",o,t,r),f=H(e,i,o),p=n=>F(e,c,n,t,f.authMode,f.authToken,!!a);try{let n=Q(e,i,null==o?void 0:o.headers),r=[{...f,query:l,variables:u},n];void 0!==a&&r.unshift(a);let d=e.graphql(...r),h=D(d,s),y=await h;if(void 0!==y.data)return function(e,t,n,r,i){let{data:o,extensions:a}=n,[s]=Object.keys(o);if(o[s].items){let n=o[s].items.map(n=>U(e,t,n));return{data:r?n:i(n),nextToken:o[s].nextToken,extensions:a}}return{data:o[s],nextToken:o[s].nextToken,extensions:a}}(t,c,y,null==o?void 0:o.selectionSet,p)}catch(r){let{data:e,errors:n}=r;if(null==e||0===Object.keys(e).length||!n)return z(r);{var d,h,y,v;let[n]=Object.keys(e);if(null==(d=e[n])?void 0:d.items){let r=null==(y=e[n])?void 0:y.items.map(e=>U(t,c,e));if(r)return{data:(null==o?void 0:o.selectionSet)?r:p(r),nextToken:null==(v=e[n])?void 0:v.nextToken}}return{data:e[n],nextToken:null==(h=e[n])?void 0:h.nextToken}}}})}e.s(["Observable",()=>eI],94426),e.s(["observable",()=>ew],33981);var ew="function"==typeof Symbol&&Symbol.observable||"@@observable",eI=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=!function(e){return e&&e instanceof g||e&&(0,o.isFunction)(e.next)&&(0,o.isFunction)(e.error)&&(0,o.isFunction)(e.complete)&&l(e)}(e)?new T(e,t,n):e;return!function(e){if(f.useDeprecatedSynchronousErrorHandling){var t=!m;if(t&&(m={errorThrown:!1,error:null}),e(),t){var n=m,r=n.errorThrown,i=n.error;if(m=null,r)throw i}}else e()}(function(){var e=r.operator,t=r.source;i.add(e?e.call(i,t):t?r._subscribe(i):r._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=eC(t))(function(t,r){var i=new T({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},e.prototype[ew]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=eC(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function eC(e){var t;return null!=(t=null!=e?e:f.Promise)?t:Promise}let ek=e=>{var t,n,r;return"key"===e.type&&(null==(t=e.properties)?void 0:t.name)&&(null==(n=e.properties)?void 0:n.queryField)&&(null==(r=e.properties)?void 0:r.fields.length)>0},eR=e=>{var t;return(null==(t=e.attributes)?void 0:t.filter(ek).map(e=>{let t=e.properties.queryField,[n,...r]=e.properties.fields;return{queryField:t,pk:n,sk:r}}))||[]},ex=(e,t)=>{var n;let r=null==(n=e.models[t].attributes)?void 0:n.find(e=>"model"===e.type),i={queries:["list","get","observeQuery"],mutations:["create","update","delete"],subscriptions:["onCreate","onUpdate","onDelete"]},o=[];if(!r)return j;if(r.properties)for(let[e,t]of Object.entries(r.properties))e in i&&(null===t?o.push(...i[e]):t instanceof Object&&o.push(...Object.keys(t)));o.includes("list")&&o.push("observeQuery");let a=o.map(e=>e.toUpperCase());return Object.fromEntries(Object.entries(j).filter(e=>{let[t]=e;return!a.includes(t)}))};function eD(e,n,r){let i=e.cancel.bind(e);return e.cancel=function(e,t){let n=new Set,r=e;for(;r&&x.has(r);){if(n.has(r))throw Error("A cycle was detected in the modeled graphql cancellation chain. This is a bug. Please report it!");n.add(r),r=x.get(r)}return i(r,t)},e.models=function(e,t,n){let r={},i=t.modelIntrospection;if(!i)return{};let o=["ONCREATE","ONUPDATE","ONDELETE"];for(let t of Object.values(i.models)){let{name:a}=t;for(let s of(r[a]={},Object.entries(ex(i,a)).forEach(s=>{let[c,{operationPrefix:l}]=s;"LIST"===c?r[a][l]=eu(e,i,t,n):o.includes(c)?r[a][l]=function(e,t,n,r,i){let{name:o}=n;return a=>{let s=q(t,n,r,a),c=W(n,r,a,t),l=H(e,i,a),u=Q(e,i,null==a?void 0:a.headers);return e.graphql({...l,query:s,variables:c},u).pipe(I(n=>{let[r]=Object.keys(n.data),i=U(t,o,n.data[r]);if(null===i)return null;{if(null==a?void 0:a.selectionSet)return i;let[n]=F(e,o,[i],t,l.authMode,l.authToken);return n}}))}}(e,i,t,c,n):"OBSERVEQUERY"===c?r[a][l]=function(e,t){let{name:n}=t;return r=>new eI(i=>{let o=[],a=[],s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.push(...t)},c=e[n].onCreate(r).subscribe({next(e){s({item:e,type:"create"})},error(e){i.error({type:"onCreate",error:e})}}),l=e[n].onUpdate(r).subscribe({next(e){s({item:e,type:"update"})},error(e){i.error({type:"onUpdate",error:e})}}),u=e[n].onDelete(r).subscribe({next(e){s({item:e,type:"delete"})},error(e){i.error({type:"onDelete",error:e})}});function f(e){for(let t of e){let e=function(e,t,n){let r=Object.fromEntries(n.map(t=>[t,e[t]]));for(let e=0;e<t.length;e++)if(Object.keys(r).every(n=>r[n]===t[e][n]))return e;return -1}(t.item,o,p);switch(t.type){case"create":e<0&&o.push(t.item);break;case"update":e>=0&&(o[e]=t.item);break;case"delete":e>=0&&o.splice(e,1);break;default:console.error("Unrecognized message in observeQuery.",t)}}i.next({items:o,isSynced:!0})}let p=function(e){let{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}(t);return(async()=>{let t=!0,c=null;for(;!i.closed&&(t||c);){t=!1;let{data:s,errors:l,nextToken:u}=await e[n].list({...r,nextToken:c});c=u,o.push(...s);let f=0===a.length&&null==c;if(i.next({items:o,isSynced:f}),Array.isArray(l))for(let e of l)i.error(e)}a.length>0&&f(a),s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(t),o.length}})(),()=>{c.unsubscribe(),l.unsubscribe(),u.unsubscribe()}})}(r,t):r[a][l]=ec(e,i,t,c,n)}),eR(t)))r[a][s.queryField]=function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return o?(o,a,s)=>eO(e,t,n,r,i,{...a,...s},o):(o,a)=>eO(e,t,n,r,i,{...o,...a})}(e,i,t,s,n)}return r}(e,n,r),e.enums=(e=>{let t=e.modelIntrospection;if(!t)return{};let n={};for(let[e,r]of Object.entries(t.enums))n[r.name]={values:()=>r.values};return n})(n),e.queries=es(e,n,"queries",r),e.mutations=es(e,n,"mutations",r),e.subscriptions=es(e,n,"subscriptions",r),e.conversations=function(e,t,n){let r=null==t?void 0:t.modelIntrospection;if(!(null==r?void 0:r.conversations))return{};let i={};for(let{name:t,conversation:o,message:a,models:s,nonModels:c,enums:l}of Object.values(r.conversations)){let u=s[o.modelName],f=s[a.modelName];if(!u||!f)return{};let p={...r,models:{...r.models,...s},nonModels:{...r.nonModels,...c},enums:{...r.enums,...l}};i[t]={update:eN(e,p,t,u,f,n),create:eS(e,p,t,u,f,n),get:eT(e,p,t,u,f,n),delete:e_(e,p,t,u,f,n),list:eA(e,p,t,u,f,n)}}return i}(e,n,r),e.generations=function(e,n,r){let i=null==n?void 0:n.modelIntrospection;if(!(null==i?void 0:i.generations))return{};let o={};for(let n of Object.values(i.generations))o[n.name]=ee(e,i,"query",n,!1,r,$(t.Generation));return o}(e,n,r),e}e.s(["GraphQLAuthError",()=>n,"__amplify",()=>eL,"__apiKey",()=>eU,"__authMode",()=>eP,"__authToken",()=>eM,"__endpoint",()=>ej,"__headers",()=>eF,"getInternals",()=>eB],8025),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(n||(n={}));let eL=Symbol("amplify"),eP=Symbol("authMode"),eM=Symbol("authToken"),eU=Symbol("apiKey"),eF=Symbol("headers"),ej=Symbol("endpoint");function eB(e){return{amplify:e[eL],apiKey:e[eU],authMode:e[eP],authToken:e[eM],endpoint:e[ej],headers:e[eF]}}function eG(e){return void 0!==e}function eK(e){return"configure"===e.event}e.s(["isApiGraphQLConfig",()=>eG],73617),e.s(["isConfigureEventWithResourceConfig",()=>eK],80710)},13157,e=>{"use strict";var t,n,r,i,o,a,s,c,l,u,f,p,d,h;e.s(["AiAction",()=>r,"ApiAction",()=>o,"AuthAction",()=>a,"Category",()=>n,"Framework",()=>t,"GeoAction",()=>c,"InAppMessagingAction",()=>l,"StorageAction",()=>h]),function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(t||(t={})),function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(n||(n={})),function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"}(r||(r={})),function(e){e.Record="1",e.IdentifyUser="2"}(i||(i={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(o||(o={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"}(a||(a={})),function(e){e.Subscribe="1",e.GraphQl="2"}(s||(s={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(c||(c={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(l||(l={})),(u||(u={})).None="0",function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(f||(f={})),(p||(p={})).Subscribe="1",function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(d||(d={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"}(h||(h={}))},94442,1770,2956,87675,49449,17718,38331,54824,77650,23515,11902,20324,92481,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["parse",()=>M],94442),e.s(["GraphQLError",()=>v],1770),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var n="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function r(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function i(e,t){var n=e.locationOffset.column-1,r=a(n)+e.body,i=t.line-1,s=e.locationOffset.line-1,c=t.line+s,l=1===t.line?n:0,u=t.column+l,f="".concat(e.name,":").concat(c,":").concat(u,"\n"),p=r.split(/\r\n|[\n\r]/g),d=p[i];if(d.length>120){for(var h=Math.floor(u/80),y=u%80,v=[],m=0;m<d.length;m+=80)v.push(d.slice(m,m+80));return f+o([["".concat(c),v[0]]].concat(v.slice(1,h+1).map(function(e){return["",e]}),[[" ",a(y-1)+"^"],["",v[h+1]]]))}return f+o([["".concat(c-1),p[i-1]],["".concat(c),d],["",a(u-1)+"^"],["".concat(c+1),p[i+1]]])}function o(e){var t=e.filter(function(e){return e[0],void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,r=e[0],i=e[1];return a(n-(t=r).length)+t+(i?" | "+i:" |")}).join("\n")}function a(e){return Array(e+1).join(" ")}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t){return t&&("object"===s(t)||"function"==typeof t)?t:u(e)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function p(e,t,n){return(p=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),e&&h(f,e);var o,a,s=(o=d(),function(){var e,t=y(f);return e=o?Reflect.construct(t,arguments,y(this).constructor):t.apply(this,arguments),l(this,e)});function f(e,n,i,o,a,p,d){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");(T=s.call(this,e)).name="GraphQLError",T.originalError=null!=p?p:void 0,T.nodes=m(Array.isArray(n)?n:n?[n]:void 0);for(var h=[],y=0,v=null!=(A=T.nodes)?A:[];y<v.length;y++){var g,E,b,S,T,A,_=v[y].loc;null!=_&&h.push(_)}h=m(h),T.source=null!=i?i:null==(E=h)?void 0:E[0].source,T.positions=null!=o?o:null==(b=h)?void 0:b.map(function(e){return e.start}),T.locations=o&&i?o.map(function(e){return r(i,e)}):null==(S=h)?void 0:S.map(function(e){return r(e.source,e.start)}),T.path=null!=a?a:void 0;var N=null==p?void 0:p.extensions;return null==d&&"object"==t(g=N)&&null!==g?T.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},N):T.extensions=null!=d?d:{},(Object.defineProperties(u(T),{message:{enumerable:!0},locations:{enumerable:null!=T.locations},path:{enumerable:null!=T.path},extensions:{enumerable:null!=T.extensions&&Object.keys(T.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=p&&p.stack)?(Object.defineProperty(u(T),"stack",{value:p.stack,writable:!0,configurable:!0}),l(T)):(Error.captureStackTrace?Error.captureStackTrace(u(T),f):Object.defineProperty(u(T),"stack",{value:Error().stack,writable:!0,configurable:!0}),T)}return a=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,o=e.nodes;n<o.length;n++){var a,s=o[n];s.loc&&(t+="\n\n"+i((a=s.loc).source,r(a.source,a.start)))}else if(e.source&&e.locations)for(var c=0,l=e.locations;c<l.length;c++){var u=l[c];t+="\n\n"+i(e.source,u)}return t}(this)}},{key:n,get:function(){return"Object"}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(f.prototype,a),f}(f(Error));function m(e){return void 0===e||0===e.length?void 0:e}function g(e,t,n){return new v("Syntax Error: ".concat(n),void 0,e,[t])}var E=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),b="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function S(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){throw Error("Unexpected invariant triggered.")}(0),e.prototype.inspect=t,b&&(e.prototype[b]=t)}var T=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();S(T);var A=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function _(e){return null!=e&&"string"==typeof e.kind}S(A);var N=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){switch(O(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(null===e)return"null";return function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n,r,i,o,a,s=[].concat(t,[e]),c="function"==typeof(r=(n=e)[String(b)])?r:"function"==typeof n.inspect?n.inspect:void 0;if(void 0!==c){var l=c.call(e);if(l!==e)return"string"==typeof l?l:w(l,s)}else if(Array.isArray(e)){var u=e,f=s;if(0===u.length)return"[]";if(f.length>2)return"[Array]";for(var p=Math.min(10,u.length),d=u.length-p,h=[],y=0;y<p;++y)h.push(w(u[y],f));return 1===d?h.push("... 1 more item"):d>1&&h.push("... ".concat(d," more items")),"["+h.join(", ")+"]"}return i=e,o=s,0===(a=Object.keys(i)).length?"{}":o.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(i)+"]":"{ "+a.map(function(e){var t=w(i[e],o);return e+": "+t}).join(", ")+" }"}(e,t);default:return String(e)}}function I(e,t){if(!e)throw Error(t)}e.i(47167);var C=function(){var e;function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||I(0,"Body must be a string. Received: ".concat(w(e,[]),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||I(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||I(0,"column in locationOffset is 1-indexed and must be positive.")}return e=[{key:n,get:function(){return"Source"}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),k=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function R(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"	"!==e[t])return!1;return!0}var x=function(){function e(e){var t=new A(N.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e,t=this.token;if(t.kind!==N.EOF)do t=null!=(e=t.next)?e:t.next=function(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a,s=r.charCodeAt(o),c=e.line,l=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new A(N.BANG,o,o+1,c,l,t);case 35:return function(e,t,n,r,i){var o,a=e.body,s=t;do o=a.charCodeAt(++s);while(!isNaN(o)&&(o>31||9===o))return new A(N.COMMENT,t,s,n,r,i,a.slice(t+1,s))}(n,o,c,l,t);case 36:return new A(N.DOLLAR,o,o+1,c,l,t);case 38:return new A(N.AMP,o,o+1,c,l,t);case 40:return new A(N.PAREN_L,o,o+1,c,l,t);case 41:return new A(N.PAREN_R,o,o+1,c,l,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new A(N.SPREAD,o,o+3,c,l,t);break;case 58:return new A(N.COLON,o,o+1,c,l,t);case 61:return new A(N.EQUALS,o,o+1,c,l,t);case 64:return new A(N.AT,o,o+1,c,l,t);case 91:return new A(N.BRACKET_L,o,o+1,c,l,t);case 93:return new A(N.BRACKET_R,o,o+1,c,l,t);case 123:return new A(N.BRACE_L,o,o+1,c,l,t);case 124:return new A(N.PIPE,o,o+1,c,l,t);case 125:return new A(N.BRACE_R,o,o+1,c,l,t);case 34:if(34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2))return function(e,t,n,r,i,o){for(var a=e.body,s=t+3,c=s,l=0,u="";s<a.length&&!isNaN(l=a.charCodeAt(s));){if(34===l&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return u+=a.slice(c,s),new A(N.BLOCK_STRING,t,s+3,n,r,i,function(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!=(t=o)?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&R(t[i]);)++i;for(var o=t.length;o>i&&R(t[o-1]);)--o;return t.slice(i,o).join("\n")}(u));if(l<32&&9!==l&&10!==l&&13!==l)throw g(e,s,"Invalid character within String: ".concat(D(l),"."));10===l?(++s,++o.line,o.lineStart=s):13===l?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===l&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(u+=a.slice(c,s)+'"""',s+=4,c=s):++s}throw g(e,s,"Unterminated string.")}(n,o,c,l,t,e);return function(e,t,n,r,i){for(var o=e.body,a=t+1,s=a,c=0,l="";a<o.length&&!isNaN(c=o.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return l+=o.slice(s,a),new A(N.STRING,t,a+1,n,r,i,l);if(c<32&&9!==c)throw g(e,a,"Invalid character within String: ".concat(D(c),"."));if(++a,92===c){switch(l+=o.slice(s,a-1),c=o.charCodeAt(a)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="	";break;case 117:var u,f,p,d,h=(u=o.charCodeAt(a+1),f=o.charCodeAt(a+2),p=o.charCodeAt(a+3),d=o.charCodeAt(a+4),P(u)<<12|P(f)<<8|P(p)<<4|P(d));if(h<0){var y=o.slice(a+1,a+5);throw g(e,a,"Invalid character escape sequence: \\u".concat(y,"."))}l+=String.fromCharCode(h),a+=4;break;default:throw g(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++a}}throw g(e,a,"Unterminated string.")}(n,o,c,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var a,s=e.body,c=n,l=t,u=!1;if(45===c&&(c=s.charCodeAt(++l)),48===c){if((c=s.charCodeAt(++l))>=48&&c<=57)throw g(e,l,"Invalid number, unexpected digit after 0: ".concat(D(c),"."))}else l=L(e,l,c),c=s.charCodeAt(l);if(46===c&&(u=!0,c=s.charCodeAt(++l),l=L(e,l,c),c=s.charCodeAt(l)),(69===c||101===c)&&(u=!0,(43===(c=s.charCodeAt(++l))||45===c)&&(c=s.charCodeAt(++l)),l=L(e,l,c),c=s.charCodeAt(l)),46===c||95===(a=c)||a>=65&&a<=90||a>=97&&a<=122)throw g(e,l,"Invalid number, expected digit but got: ".concat(D(c),"."));return new A(u?N.FLOAT:N.INT,t,l,r,i,o,s.slice(t,l))}(n,o,s,c,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:for(var u=n,f=o,p=c,d=l,h=t,y=u.body,v=y.length,m=f+1,E=0;m!==v&&!isNaN(E=y.charCodeAt(m))&&(95===E||E>=48&&E<=57||E>=65&&E<=90||E>=97&&E<=122);)++m;return new A(N.NAME,f,m,p,d,h,y.slice(f,m))}throw g(n,o,(a=s)<32&&9!==a&&10!==a&&13!==a?"Cannot contain the invalid character ".concat(D(a),"."):39===a?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(D(a),"."))}var b=e.line,S=1+o-e.lineStart;return new A(N.EOF,i,i,b,S,t)}(this,t);while(t.kind===N.COMMENT)return t},e}();function D(e){return isNaN(e)?N.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function L(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do o=r.charCodeAt(++i);while(o>=48&&o<=57)return i}throw g(e,i,"Invalid number, expected digit but got: ".concat(D(o),"."))}function P(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function M(e,t){return new U(e,t).parseDocument()}var U=function(){function e(e,t){var n=e instanceof C?e:new C(e);this._lexer=new x(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(N.NAME);return{kind:E.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:E.DOCUMENT,definitions:this.many(N.SOF,this.parseDefinition,N.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(N.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else if(this.peek(N.BRACE_L))return this.parseOperationDefinition();else if(this.peekDescription())return this.parseTypeSystemDefinition();throw this.unexpected()},t.parseOperationDefinition=function(){var e,t=this._lexer.token;if(this.peek(N.BRACE_L))return{kind:E.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var n=this.parseOperationType();return this.peek(N.NAME)&&(e=this.parseName()),{kind:E.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseOperationType=function(){var e=this.expectToken(N.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(N.PAREN_L,this.parseVariableDefinition,N.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:E.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(N.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(N.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(N.DOLLAR),{kind:E.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:E.SELECTION_SET,selections:this.many(N.BRACE_L,this.parseSelection,N.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(N.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(N.COLON)?(e=r,t=this.parseName()):t=r,{kind:E.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(N.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(N.PAREN_L,t,N.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(N.COLON),{kind:E.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:E.ARGUMENT,name:this.parseName(),value:(this.expectToken(N.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(N.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(N.NAME)?{kind:E.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:E.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return(this.expectKeyword("fragment"),(null==(e=this._options)?void 0:e.experimentalFragmentVariables)===!0)?{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:E.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case N.BRACKET_L:return this.parseList(e);case N.BRACE_L:return this.parseObject(e);case N.INT:return this._lexer.advance(),{kind:E.INT,value:t.value,loc:this.loc(t)};case N.FLOAT:return this._lexer.advance(),{kind:E.FLOAT,value:t.value,loc:this.loc(t)};case N.STRING:case N.BLOCK_STRING:return this.parseStringLiteral();case N.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:E.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:E.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:E.NULL,loc:this.loc(t)};default:return{kind:E.ENUM,value:t.value,loc:this.loc(t)}}case N.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:E.STRING,value:e.value,block:e.kind===N.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:E.LIST,values:this.any(N.BRACKET_L,function(){return t.parseValueLiteral(e)},N.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:E.OBJECT,fields:this.any(N.BRACE_L,function(){return t.parseObjectField(e)},N.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(N.COLON),{kind:E.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(N.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(N.AT),{kind:E.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return(this.expectOptionalToken(N.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(N.BRACKET_R),e={kind:E.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(N.BANG))?{kind:E.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:E.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===N.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(N.STRING)||this.peek(N.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(N.BRACE_L,this.parseOperationTypeDefinition,N.BRACE_R);return{kind:E.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(N.COLON);var n=this.parseNamedType();return{kind:E.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:E.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:E.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if((null==(e=this._options)?void 0:e.allowLegacySDLImplementsInterfaces)===!0){var t=[];this.expectOptionalToken(N.AMP);do t.push(this.parseNamedType());while(this.expectOptionalToken(N.AMP)||this.peek(N.NAME))return t}return this.delimitedMany(N.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return(null==(e=this._options)?void 0:e.allowLegacySDLEmptyFields)===!0&&this.peek(N.BRACE_L)&&this._lexer.lookahead().kind===N.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(N.BRACE_L,this.parseFieldDefinition,N.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(N.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:E.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(N.PAREN_L,this.parseInputValueDef,N.PAREN_R)},t.parseInputValueDef=function(){var e,t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(N.COLON);var i=this.parseTypeReference();this.expectOptionalToken(N.EQUALS)&&(e=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:E.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:e,directives:o,loc:this.loc(t)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:E.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:E.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(N.EQUALS)?this.delimitedMany(N.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:E.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(N.BRACE_L,this.parseEnumValueDefinition,N.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:E.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:E.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(N.BRACE_L,this.parseInputValueDef,N.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===N.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(N.BRACE_L,this.parseOperationTypeDefinition,N.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:E.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:E.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:E.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:E.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:E.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:E.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:E.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(N.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:E.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(N.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==k[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if((null==(t=this._options)?void 0:t.noLocation)!==!0)return new T(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw g(this._lexer.source,t.start,"Expected ".concat(j(e),", found ").concat(F(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind===N.NAME&&t.value===e)this._lexer.advance();else throw g(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(F(t),"."))},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===N.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return g(this._lexer.source,t.start,"Unexpected ".concat(F(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n))return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n))return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do n.push(t.call(this));while(this.expectOptionalToken(e))return n},e}();function F(e){var t=e.value;return j(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function j(e){return e===N.BANG||e===N.DOLLAR||e===N.AMP||e===N.PAREN_L||e===N.PAREN_R||e===N.SPREAD||e===N.COLON||e===N.EQUALS||e===N.AT||e===N.BRACKET_L||e===N.BRACKET_R||e===N.BRACE_L||e===N.PIPE||e===N.BRACE_R?'"'.concat(e,'"'):e}e.s(["print",()=>K],2956);var B={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},G=Object.freeze({});function K(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,l=void 0,u=void 0,f=[],p=[],d=e;do{var h,y=++a===o.length,v=y&&0!==s.length;if(y){if(l=0===p.length?void 0:f[f.length-1],c=u,u=p.pop(),v){if(i)c=c.slice();else{for(var m={},g=0,E=Object.keys(c);g<E.length;g++){var b=E[g];m[b]=c[b]}c=m}for(var S=0,T=0;T<s.length;T++){var A=s[T][0],N=s[T][1];i&&(A-=S),i&&null===N?(c.splice(A,1),S++):c[A]=N}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(l=u?i?a:o[a]:void 0,null==(c=u?u[l]:d))continue;u&&f.push(l)}var O=void 0;if(!Array.isArray(c)){if(!_(c))throw Error("Invalid AST Node: ".concat(w(c,[]),"."));var I=function(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}(t,c.kind,y);if(I){if((O=I.call(t,c,l,u,f,p))===G)break;if(!1===O){if(!y){f.pop();continue}}else if(void 0!==O&&(s.push([l,O]),!y))if(_(O))c=O;else{f.pop();continue}}}void 0===O&&v&&s.push([l,c]),y?f.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(c))?c:null!=(h=n[c.kind])?h:[],a=-1,s=[],u&&p.push(u),u=c)}while(void 0!==r)return 0!==s.length&&(d=s[s.length-1][1]),d}(e,{leave:V})}var V={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return W(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=H("(",W(e.variableDefinitions,", "),")"),i=W(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?W([t,W([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+H(" = ",r)+H(" ",W(i," "))},SelectionSet:function(e){return Y(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=H("",t,": ")+n,s=a+H("(",W(r,", "),")");return s.length>80&&(s=a+H("(\n",Q(W(r,"\n")),"\n)")),W([s,W(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+H(" ",W(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return W(["...",H("on ",t),W(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(H("(",W(r,", "),")")," ")+"on ".concat(n," ").concat(H("",W(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"	"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,c="";return s&&!(r&&i)&&(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+W(e.values,", ")+"]"},ObjectValue:function(e){return"{"+W(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+H("(",W(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:q(function(e){var t=e.directives,n=e.operationTypes;return W(["schema",W(t," "),Y(n)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:q(function(e){return W(["scalar",e.name,W(e.directives," ")]," ")}),ObjectTypeDefinition:q(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return W(["type",t,H("implements ",W(n," & ")),W(r," "),Y(i)]," ")}),FieldDefinition:q(function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(J(n)?H("(\n",Q(W(n,"\n")),"\n)"):H("(",W(n,", "),")"))+": "+r+H(" ",W(i," "))}),InputValueDefinition:q(function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return W([t+": "+n,H("= ",r),W(i," ")]," ")}),InterfaceTypeDefinition:q(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return W(["interface",t,H("implements ",W(n," & ")),W(r," "),Y(i)]," ")}),UnionTypeDefinition:q(function(e){var t=e.name,n=e.directives,r=e.types;return W(["union",t,W(n," "),r&&0!==r.length?"= "+W(r," | "):""]," ")}),EnumTypeDefinition:q(function(e){var t=e.name,n=e.directives,r=e.values;return W(["enum",t,W(n," "),Y(r)]," ")}),EnumValueDefinition:q(function(e){return W([e.name,W(e.directives," ")]," ")}),InputObjectTypeDefinition:q(function(e){var t=e.name,n=e.directives,r=e.fields;return W(["input",t,W(n," "),Y(r)]," ")}),DirectiveDefinition:q(function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(J(n)?H("(\n",Q(W(n,"\n")),"\n)"):H("(",W(n,", "),")"))+(r?" repeatable":"")+" on "+W(i," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return W(["extend schema",W(t," "),Y(n)]," ")},ScalarTypeExtension:function(e){return W(["extend scalar",e.name,W(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return W(["extend type",t,H("implements ",W(n," & ")),W(r," "),Y(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return W(["extend interface",t,H("implements ",W(n," & ")),W(r," "),Y(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return W(["extend union",t,W(n," "),r&&0!==r.length?"= "+W(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return W(["extend enum",t,W(n," "),Y(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return W(["extend input",t,W(n," "),Y(r)]," ")}};function q(e){return function(t){return W([t.description,e(t)],"\n")}}function W(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!=(t=null==e?void 0:e.filter(function(e){return e}).join(n))?t:""}function Y(e){return H("{\n",Q(W(e,"\n")),"\n}")}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function Q(e){return H("  ",e.replace(/\n/g,"\n  "))}function z(e){return -1!==e.indexOf("\n")}function J(e){return null!=e&&e.some(z)}e.s(["catchError",()=>function e(t){return(0,eh.operate)(function(n,r){var i,o=null,a=!1;o=n.subscribe((0,ed.createOperatorSubscriber)(r,void 0,void 0,function(s){i=ef(t(s,e(t)(n))),o?(o.unsubscribe(),o=null,i.subscribe(r)):a=!0})),a&&(o.unsubscribe(),o=null,i.subscribe(r))})}],92481),e.s(["innerFrom",()=>ef],20324);var X=e.i(90571);e.s(["isArrayLike",()=>$],87675);var $=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};e.s(["isPromise",()=>ee],49449);var Z=e.i(3752);function ee(e){return(0,Z.isFunction)(null==e?void 0:e.then)}var et=e.i(94426);e.s(["isInteropObservable",()=>er],17718);var en=e.i(33981);function er(e){return(0,Z.isFunction)(e[en.observable])}function ei(e){return Symbol.asyncIterator&&(0,Z.isFunction)(null==e?void 0:e[Symbol.asyncIterator])}function eo(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}e.s(["isAsyncIterable",()=>ei],38331),e.s(["createInvalidObservableTypeError",()=>eo],54824),e.s(["isIterable",()=>es],23515),e.s(["iterator",()=>ea],77650);var ea="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function es(e){return(0,Z.isFunction)(null==e?void 0:e[ea])}function ec(e){return(0,X.__asyncGenerator)(this,arguments,function(){var t,n,r;return(0,X.__generator)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,X.__await)(t.read())];case 3:if(r=(n=i.sent()).value,!n.done)return[3,5];return[4,(0,X.__await)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,X.__await)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function el(e){return(0,Z.isFunction)(null==e?void 0:e.getReader)}e.s(["isReadableStreamLike",()=>el,"readableStreamLikeToAsyncGenerator",()=>ec],11902);var eu=e.i(5698);function ef(e){if(e instanceof et.Observable)return e;if(null!=e){var t,n,r,i;if(er(e)){return t=e,new et.Observable(function(e){var n=t[en.observable]();if((0,Z.isFunction)(n.subscribe))return n.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if($(e)){return n=e,new et.Observable(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}if(ee(e)){return r=e,new et.Observable(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,eu.reportUnhandledError)})}if(ei(e))return ep(e);if(es(e)){return i=e,new et.Observable(function(e){var t,n;try{for(var r=(0,X.__values)(i),o=r.next();!o.done;o=r.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.complete()})}if(el(e))return ep(ec(e))}throw eo(e)}function ep(e){return new et.Observable(function(t){(function(e,t){var n,r,i,o;return(0,X.__awaiter)(this,void 0,void 0,function(){var a;return(0,X.__generator)(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=(0,X.__asyncValues)(e),s.label=1;case 1:return[4,n.next()];case 2:if((r=s.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:s.sent()},[3,11];case 6:if(s.trys.push([6,,9,10]),!(r&&!r.done&&(o=n.return)))return[3,8];return[4,o.call(n)];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}var ed=e.i(27608),eh=e.i(2965)},76518,e=>{"use strict";e.s(["AmplifyUrl",()=>t,"AmplifyUrlSearchParams",()=>n]);let t=URL,n=URLSearchParams},17219,69574,e=>{"use strict";let t;e.s(["version",()=>n],17219);let n="6.15.5";e.s(["detectFramework",()=>l,"observeFrameworkChanges",()=>u],69574);var r=e.i(13157),i=e.i(47167);let o=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t)),a=[{platform:r.Framework.Expo,detectionMethod:function(){return void 0!==e.g.expo}},{platform:r.Framework.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:r.Framework.NextJs,detectionMethod:function(){return"undefined"!=typeof window&&window.next&&"object"==typeof window.next}},{platform:r.Framework.Nuxt,detectionMethod:function(){return"undefined"!=typeof window&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:r.Framework.Angular,detectionMethod:function(){let e=!!("undefined"!=typeof document&&document.querySelector("[ng-version]")),t="undefined"!=typeof window&&void 0!==window.ng;return e||t}},{platform:r.Framework.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return"undefined"!=typeof document&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:r.Framework.VueJs,detectionMethod:function(){return"undefined"!=typeof window&&o(window,"__VUE")}},{platform:r.Framework.Svelte,detectionMethod:function(){return"undefined"!=typeof window&&o(window,"__SVELTE")}},{platform:r.Framework.WebUnknown,detectionMethod:function(){return"undefined"!=typeof window}},{platform:r.Framework.NextJsSSR,detectionMethod:function(){return o(e.g,"__next")||o(e.g,"__NEXT")}},{platform:r.Framework.NuxtSSR,detectionMethod:function(){return void 0!==e.g.__NUXT_PATHS__}},{platform:r.Framework.ReactSSR,detectionMethod:function(){return void 0!==i.default&&void 0!==i.default.env&&!!Object.keys(i.default.env).find(e=>e.includes("react"))}},{platform:r.Framework.VueJsSSR,detectionMethod:function(){return o(e.g,"__VUE")}},{platform:r.Framework.AngularSSR,detectionMethod:function(){var e;return void 0!==i.default&&"object"==typeof i.default.env&&(null==(e=i.default.env.npm_lifecycle_script)?void 0:e.startsWith("ng "))||!1}},{platform:r.Framework.SvelteSSR,detectionMethod:function(){return void 0!==i.default&&void 0!==i.default.env&&!!Object.keys(i.default.env).find(e=>e.includes("svelte"))}}],s=[],c=!1,l=()=>{if(!t){if(t=function(){var e;return(null==(e=a.find(e=>e.detectionMethod()))?void 0:e.platform)||r.Framework.ServerSideUnknown}(),c)for(;s.length;){var e;null==(e=s.pop())||e()}else s.forEach(e=>{e()});f(r.Framework.ServerSideUnknown,10),f(r.Framework.WebUnknown,10)}return t},u=e=>{c||s.push(e)};function f(e,n){t!==e||c||setTimeout(()=>{t=void 0,c=!0,setTimeout(l,1e3)},n)}},51510,e=>{"use strict";e.s(["getCustomUserAgent",()=>r,"setCustomUserAgent",()=>n]);let t={},n=e=>{var n;t[e.category]=e.apis.reduce((t,n)=>{var r;return{...t,[n]:{refCount:(null==(r=t[n])?void 0:r.refCount)?t[n].refCount+1:1,additionalDetails:e.additionalDetails}}},null!=(n=t[e.category])?n:{});let r=!1;return()=>{r||(r=!0,e.apis.forEach(n=>{let r=t[e.category][n].refCount;r>1?t[e.category][n].refCount=r-1:(delete t[e.category][n],Object.keys(t[e.category]).length||delete t[e.category])}))}},r=(e,n)=>{var r,i;return null==(i=t[e])||null==(r=i[n])?void 0:r.additionalDetails}},83901,e=>{"use strict";e.s(["getAmplifyUserAgent",()=>c]);var t=e.i(13157),n=e.i(17219),r=e.i(69574),i=e.i(51510);let o="aws-amplify",a=e=>e.replace(/\+.*/,"");new class{get framework(){return(0,r.detectFramework)()}get isReactNative(){return this.framework===t.Framework.ReactNative||this.framework===t.Framework.Expo}observeFrameworkChanges(e){(0,r.observeFrameworkChanges)(e)}constructor(){this.userAgent="".concat(o,"/").concat(a(n.version))}};let s=function(){let{category:e,action:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=[[o,a(n.version)]];if(e&&s.push([e,t]),s.push(["framework",(0,r.detectFramework)()]),e&&t){let n=(0,i.getCustomUserAgent)(e,t);n&&n.forEach(e=>{s.push(e)})}return s},c=e=>s(e).map(e=>{let[t,n]=e;return t&&n?"".concat(t,"/").concat(n):t}).join(" ")},49e3,99489,e=>{"use strict";e.s(["CanceledError",()=>o,"isCancelError",()=>a],49e3),e.s(["RestApiError",()=>i],99489);var t=e.i(69993);class n extends t.AmplifyError{get response(){return this._response?r(this._response):void 0}constructor(e){super(e),this.constructor=n,Object.setPrototypeOf(this,n.prototype),e.response&&(this._response=e.response)}}let r=e=>({...e,headers:{...e.headers}});class i extends n{constructor(e){super(e),this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}class o extends i{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=o,Object.setPrototypeOf(this,o.prototype)}}let a=e=>!!e&&e instanceof o},6791,19337,60285,e=>{"use strict";e.s(["deepFreeze",()=>t],6791);let t=e=>{for(let n of Reflect.ownKeys(e)){let r=e[n];(r&&"object"==typeof r||"function"==typeof r)&&t(r)}return Object.freeze(e)};e.s(["ADD_OAUTH_LISTENER",()=>n],19337);let n=Symbol("oauth-listener");e.s(["parseAmplifyConfig",()=>d],60285);var r=e.i(32158),i=e.i(69993);let o=new r.ConsoleLogger("parseAWSExports"),a={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},s=function(){var e,t,n,r,s,c,f,p,d,h,y,v,m,g,E;let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.prototype.hasOwnProperty.call(b,"aws_project_region"))throw new i.AmplifyError({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:S,aws_appsync_authenticationType:T,aws_appsync_graphqlEndpoint:A,aws_appsync_region:_,aws_bots_config:N,aws_cognito_identity_pool_id:O,aws_cognito_sign_up_verification_method:w,aws_cognito_mfa_configuration:I,aws_cognito_mfa_types:C,aws_cognito_password_protection_settings:k,aws_cognito_verification_mechanisms:R,aws_cognito_signup_attributes:x,aws_cognito_social_providers:D,aws_cognito_username_attributes:L,aws_mandatory_sign_in:P,aws_mobile_analytics_app_id:M,aws_mobile_analytics_app_region:U,aws_user_files_s3_bucket:F,aws_user_files_s3_bucket_region:j,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:B,aws_user_pools_id:G,aws_user_pools_web_client_id:K,geo:V,oauth:q,predictions:W,aws_cloud_logic_custom:Y,Notifications:H,modelIntrospection:Q}=b,z={};M&&(z.Analytics={Pinpoint:{appId:M,region:U}});let{InAppMessaging:J,Push:X}=null!=H?H:{};if((null==J?void 0:J.AWSPinpoint)||(null==X?void 0:X.AWSPinpoint)){if(null==J?void 0:J.AWSPinpoint){let{appId:e,region:t}=J.AWSPinpoint;z.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(null==X?void 0:X.AWSPinpoint){let{appId:e,region:t}=X.AWSPinpoint;z.Notifications={...z.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(N)&&(z.Interactions={LexV1:Object.fromEntries(N.map(e=>[e.name,e]))}),A){let e=a[T];e||o.debug("Invalid authentication type ".concat(T,". Falling back to IAM.")),z.API={GraphQL:{endpoint:A,apiKey:S,region:_,defaultAuthMode:null!=e?e:"iam"}},Q&&(z.API.GraphQL.modelIntrospection=Q)}let $=I?{status:I&&I.toLowerCase(),totpEnabled:null!=(s=null==C?void 0:C.includes("TOTP"))&&s,smsEnabled:null!=(c=null==C?void 0:C.includes("SMS"))&&c}:void 0,Z=k?{minLength:k.passwordPolicyMinLength,requireLowercase:null!=(f=null==(e=k.passwordPolicyCharacters)?void 0:e.includes("REQUIRES_LOWERCASE"))&&f,requireUppercase:null!=(p=null==(t=k.passwordPolicyCharacters)?void 0:t.includes("REQUIRES_UPPERCASE"))&&p,requireNumbers:null!=(d=null==(n=k.passwordPolicyCharacters)?void 0:n.includes("REQUIRES_NUMBERS"))&&d,requireSpecialCharacters:null!=(h=null==(r=k.passwordPolicyCharacters)?void 0:r.includes("REQUIRES_SYMBOLS"))&&h}:void 0,ee=Array.from(new Set([...null!=R?R:[],...null!=x?x:[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),et=null!=(y=null==L?void 0:L.includes("EMAIL"))&&y,en=null!=(v=null==L?void 0:L.includes("PHONE_NUMBER"))&&v;(O||G)&&(z.Auth={Cognito:{identityPoolId:O,allowGuestAccess:"enable"!==P,signUpVerificationMethod:w,userAttributes:ee,userPoolClientId:K,userPoolId:G,mfa:$,passwordFormat:Z,loginWith:{username:!(et||en),email:et,phone:en}}});let er=!!q&&Object.keys(q).length>0,ei=!!D&&D.length>0;if(z.Auth&&er&&(z.Auth.Cognito.loginWith={...z.Auth.Cognito.loginWith,oauth:{...l(q),...ei&&{providers:u(D)}}}),F&&(z.Storage={S3:{bucket:F,region:j,dangerouslyConnectToHttpEndpointForTesting:B}}),V){let{amazon_location_service:e}=V;z.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(Y&&(z.API={...z.API,REST:Y.reduce((e,t)=>{let{name:n,endpoint:r,region:i,service:o}=t;return{...e,[n]:{endpoint:r,...o?{service:o}:void 0,...i?{region:i}:void 0}}},{})}),W){let{VoiceId:e}=null!=(E=null==W||null==(g=W.convert)||null==(m=g.speechGenerator)?void 0:m.defaults)?E:{};z.Predictions=e?{...W,convert:{...W.convert,speechGenerator:{...W.convert.speechGenerator,defaults:{voiceId:e}}}}:W}return z},c=e=>{var t;return null!=(t=null==e?void 0:e.split(","))?t:[]},l=e=>{let{domain:t,scope:n,redirectSignIn:r,redirectSignOut:i,responseType:o}=e;return{domain:t,scopes:n,redirectSignIn:c(r),redirectSignOut:c(i),responseType:o}},u=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}),f={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},p={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},d=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?s(e):!function(e){let{version:t}=e;return!!t&&t.startsWith("1")}(e)?e:function(e){let t={};if(e.storage&&(t.Storage=function(e){if(!e)return;let{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&function(e){let t={};return e.forEach(e=>{let{name:n,bucket_name:r,aws_region:i,paths:o}=e;if(n in t)throw Error("Duplicate friendly name found: ".concat(n,". Name must be unique."));let a=o?Object.entries(o).reduce((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e},{}):void 0;t[n]={bucketName:r,region:i,paths:a}}),t}(r)}}}(e.storage)),e.auth&&(t.Auth=function(e){var t,n;if(!e)return;let{user_pool_id:r,user_pool_client_id:i,identity_pool_id:o,password_policy:a,mfa_configuration:s,mfa_methods:c,unauthenticated_identities_enabled:l,oauth:u,username_attributes:f,standard_required_attributes:d,groups:h}=e,y={Cognito:{userPoolId:r,userPoolClientId:i,groups:h}};if(o&&(y.Cognito={...y.Cognito,identityPoolId:o}),a){y.Cognito.passwordFormat={requireLowercase:a.require_lowercase,requireNumbers:a.require_numbers,requireUppercase:a.require_uppercase,requireSpecialCharacters:a.require_symbols,minLength:null!=(t=a.min_length)?t:6}}return s&&(y.Cognito.mfa={status:"OPTIONAL"===(n=s)?"optional":"REQUIRED"===n?"on":"off",smsEnabled:null==c?void 0:c.includes("SMS"),totpEnabled:null==c?void 0:c.includes("TOTP")}),l&&(y.Cognito.allowGuestAccess=l),u&&(y.Cognito.loginWith={oauth:{domain:u.domain,redirectSignIn:u.redirect_sign_in_uri,redirectSignOut:u.redirect_sign_out_uri,responseType:"token"===u.response_type?"token":"code",scopes:u.scopes,providers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>(void 0!==p[t]&&e.push(p[t]),e),[])}(u.identity_providers)}}),f&&(y.Cognito.loginWith={...y.Cognito.loginWith,email:f.includes("email"),phone:f.includes("phone_number"),username:f.includes("username")}),d&&(y.Cognito.userAttributes=d.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),y}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!(null==e?void 0:e.amazon_pinpoint))return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;let{aws_region:t,geofence_collections:n,maps:r,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:n,maps:r}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;let{aws_region:t,default_authorization_type:n,url:r,api_key:i,model_introspection:o}=e;return{GraphQL:{endpoint:r,defaultAuthMode:f[n],region:t,apiKey:i,modelIntrospection:o}}}(e.data)),e.custom){let n=function(e){if(!(null==e?void 0:e.events))return;let{url:t,aws_region:n,api_key:r,default_authorization_type:i}=e.events;return{Events:{endpoint:t,defaultAuthMode:f[i],region:n,apiKey:r}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;let{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,i=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(i||o))return;let a={};return i&&(a.InAppMessaging={Pinpoint:{appId:r,region:t}}),o&&(a.PushNotification={Pinpoint:{appId:r,region:t}}),a}(e.notifications)),t}(e)},67034,(e,t,n)=>{!function(){var e={675:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=c(e),a=o[0],s=o[1],l=new i((a+s)*3/4-s),u=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},72:function(e,t,n){"use strict";var r=n(675),i=n(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|d(r,i),c=a(o),l=c.write(r,i);return l!==o&&(c=c.slice(0,l)),c}if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return function(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),s.prototype),r}(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return s.from(u,t,n);var h=function(e){if(s.isBuffer(e)){var t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(h)return h;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),a(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)};function p(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function d(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return w(e).length;default:if(i)return r?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){var i,o,a,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=k[e[o]];return i}(this,t,n);case"utf8":case"utf-8":return g(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,o=t,a=n,0===o&&a===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(o=n*=1)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return m(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else -1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,p=0;p<c;p++)if(l(e,o+p)!==l(t,p)){f=!1;break}if(f)return o}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(C(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?g(this,0,e):h.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,c=Math.min(o,a),l=this.slice(r,i),u=e.slice(t,n),f=0;f<c;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)};function g(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,l=e[i],u=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:(192&(o=e[i+1]))==128&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}var p=r,d=p.length;if(d<=4096)return String.fromCharCode.apply(String,p);for(var h="",y=0;y<d;)h+=String.fromCharCode.apply(String,p.slice(y,y+=4096));return h}function E(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function b(e,t,n,r,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function S(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function T(e,t,n,r,o){return t*=1,n>>>=0,o||S(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function A(e,t,n,r,o){return t*=1,n>>>=0,o||S(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,c,l,u,f,p=this.length-t;if((void 0===n||n>p)&&(n=p),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var d=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s,c=parseInt(t.substr(2*a,2),16);if((s=c)!=s)break;e[n+a]=c}return a}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,I(N(e,this.length-i),this,i,o);case"ascii":return a=t,s=n,I(O(e),this,a,s);case"latin1":case"binary":return function(e,t,n,r){return I(O(t),e,n,r)}(this,e,t,n);case"base64":return c=t,l=n,I(w(e),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,f=n,I(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-u),this,u,f);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;b(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;b(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);b(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);b(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),c=a.length;if(0===c)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%c]}return this};var _=/[^+/0-9A-Za-z-_]/g;function N(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function O(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function w(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var k=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},783:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,f=n?i-1:0,p=n?-1:1,d=e[t+f];for(f+=p,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+e[t+f],f+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+f],f+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,p=5960464477539062e-23*(23===i),d=r?0:o-1,h=r?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+f>=1?t+=p/c:t+=p*Math.pow(2,1-f),t*c>=2&&(a++,c/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=h,a/=256,l-=8);e[n+d-h]|=128*y}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}},a=!0;try{e[t](o,o.exports,r),a=!1}finally{a&&delete n[t]}return o.exports}r.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=r(72)}()},74860,17128,62008,66088,e=>{"use strict";e.s(["Amplify",()=>b],74860);var t=e.i(71094),n=e.i(6791),r=e.i(19337),i=e.i(60285);e.s([],62008),e.s(["Sha256",()=>p],17128);var o=e.i(90571),a=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),s=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],c=function(){function e(){this.state=Int32Array.from(s),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>0x1fffffffffffff)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var r=this.bufferLength;r<64;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/0x100000000),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(32),r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],f=0;f<64;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var p=this.temp[f-2],d=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,h=((p=this.temp[f-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[f]=(d+this.temp[f-7]|0)+(h+this.temp[f-16]|0)}var y=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&l)|0)+(u+(a[f]+this.temp[f]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;u=l,l=c,c=s,s=o+y|0,o=i,i=r,r=n,n=y+v|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=s,t[5]+=c,t[6]+=l,t[7]+=u},e}(),l=e.i(67034),u=void 0!==l.Buffer&&l.Buffer.from?function(e){return l.Buffer.from(e,"utf8")}:e=>new TextEncoder().encode(e);function f(e){return e instanceof Uint8Array?e:"string"==typeof e?u(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var p=function(){function e(e){this.secret=e,this.hash=new c,this.reset()}return e.prototype.update=function(e){if(!("string"==typeof e?0===e.length:0===e.byteLength)&&!this.error)try{this.hash.update(f(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,o.__awaiter)(this,void 0,void 0,function(){return(0,o.__generator)(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new c,this.secret){this.outer=new c;var e=function(e){var t=f(e);if(t.byteLength>64){var n=new c;n.update(t),t=n.digest()}var r=new Uint8Array(64);return r.set(t),r}(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}();e.s(["toHex",()=>y],66088);let d={},h={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t="0".concat(t)),d[e]=t,h[t]=e}function y(e){let t="";for(let n=0;n<e.byteLength;n++)t+=d[e[n]];return t}let v=new(e.i(32158)).ConsoleLogger("Auth");class m{configure(e,t){var n,r;this.authConfig=e,this.authOptions=t,e&&(null==(n=e.Cognito)?void 0:n.userPoolEndpoint)&&v.warn(g("Amazon Cognito User Pool")),e&&(null==(r=e.Cognito)?void 0:r.identityPoolEndpoint)&&v.warn(g("Amazon Cognito Identity Pool"))}async fetchAuthSession(){var e,t,n,r,i,o;let a,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=await this.getTokens(c);return l?(s=null==(t=l.accessToken)||null==(e=t.payload)?void 0:e.sub,a=await (null==(r=this.authOptions)||null==(n=r.credentialsProvider)?void 0:n.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:l,authenticated:!0,forceRefresh:c.forceRefresh}))):a=await (null==(o=this.authOptions)||null==(i=o.credentialsProvider)?void 0:i.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:c.forceRefresh})),{tokens:l,credentials:null==a?void 0:a.credentials,identityId:null==a?void 0:a.identityId,userSub:s}}async clearCredentials(){var e,t;await (null==(t=this.authOptions)||null==(e=t.credentialsProvider)?void 0:e.clearCredentialsAndIdentityId())}async getTokens(e){var t,n,r;return null!=(r=await (null==(n=this.authOptions)||null==(t=n.tokenProvider)?void 0:t.getTokens(e)))?r:void 0}}let g=e=>"You are using a custom Amazon ".concat(e," endpoint, ensure the endpoint is correct.");class E{configure(e,r){let o=(0,i.parseAmplifyConfig)(e);this.resourcesConfig=o,r&&(this.libraryOptions=r),this.resourcesConfig=(0,n.deepFreeze)(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),t.Hub.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",t.AMPLIFY_SYMBOL),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[r.ADD_OAUTH_LISTENER](e){var t,n,r;(null==(n=this.resourcesConfig.Auth)||null==(t=n.Cognito.loginWith)?void 0:t.oauth)?e(null==(r=this.resourcesConfig.Auth)?void 0:r.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,t,n;(null==(t=this.resourcesConfig.Auth)||null==(e=t.Cognito.loginWith)?void 0:e.oauth)&&this.oAuthListener&&(this.oAuthListener(null==(n=this.resourcesConfig.Auth)?void 0:n.Cognito),this.oAuthListener=void 0)}constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new m}}let b=new E},76254,e=>{"use strict";var t;e.s(["RestApiValidationErrorCode",()=>t,"validationErrorMap",()=>n]),(t||(t={})).InvalidApiName="InvalidApiName";let n={[t.InvalidApiName]:{message:"API name is invalid.",recoverySuggestion:"Check if the API name matches the one in your configuration or `aws-exports.js`"}}},64978,60218,e=>{"use strict";e.s(["parseJsonBody",()=>i,"parseJsonError",()=>r],64978),e.s(["parseMetadata",()=>t],60218);let t=e=>{var t,r;let{headers:i,statusCode:o}=e;return{...n(e)?e.$metadata:{},httpStatusCode:o,requestId:null!=(r=null!=(t=i["x-amzn-requestid"])?t:i["x-amzn-request-id"])?r:i["x-amz-request-id"],extendedRequestId:i["x-amz-id-2"],cfId:i["x-amz-cf-id"]}},n=e=>"object"==typeof(null==e?void 0:e.$metadata),r=async e=>{var n,r,o,a,s;if(!e||e.statusCode<300)return;let c=await i(e),l=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(null!=(o=null!=(r=null!=(n=e.headers["x-amzn-errortype"])?n:c.code)?r:c.__type)?o:"UnknownError");return Object.assign(Error(null!=(s=null!=(a=c.message)?a:c.Message)?s:"Unknown error"),{name:l,$metadata:t(e)})},i=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:t(e)})}},53137,86619,56402,15098,73433,61029,e=>{"use strict";e.s(["createCancellableOperation",()=>l],53137);var t=e.i(49e3),n=e.i(76254);e.s(["parseRestApiServiceError",()=>o],86619);var r=e.i(64978),i=e.i(99489);let o=async e=>{if(!e)return;let t=await (0,r.parseJsonError)(a(e));if(t){var n;let r=await (null==(n=e.body)?void 0:n.text());return s(t,{statusCode:e.statusCode,headers:e.headers,body:r})}},a=e=>{let t,n=new Proxy(e.body,{get:(e,n,r)=>"json"===n?async()=>{t||(t=e.text());try{return JSON.parse(await t)}catch(e){return{}}}:"text"===n?async()=>(t||(t=e.text()),t):Reflect.get(e,n,r)});return new Proxy(e,{get:(e,t,r)=>"body"===t?n:Reflect.get(e,t,r)})},s=(e,t)=>Object.assign(new i.RestApiError({name:null==e?void 0:e.name,message:e.message,underlyingError:e,response:t}),{$metadata:e.$metadata});e.s(["logger",()=>c],56402);let c=new(e.i(32158)).ConsoleLogger("RestApis");function l(e,n){let r,i=new AbortController,a=i.signal,s=null==n?void 0:n.signal,l=async()=>{try{let t=await (n?e():e(a));if(t.statusCode>=300)throw await o(t);return t}catch(i){let e=null!=s?s:a,n=null!=r?r:e.reason;if("AbortError"===i.name||(null==e?void 0:e.aborted)===!0){let e=new t.CanceledError({...n&&{message:n},underlyingError:i,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw c.debug(i),e}throw c.debug(i),i}};return n?l():{response:l(),cancel:e=>{!0!==a.aborted&&(i.abort(e),e&&a.reason!==e&&(r=e))}}}e.s(["parseSigningInfo",()=>p],15098);let u="execute-api",f=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,p=(e,t)=>{var n,r,i,o,a;let{service:s=u,region:c="us-east-1"}=null!=(o=null==t||null==(i=t.amplify.getConfig())||null==(r=i.API)||null==(n=r.REST)?void 0:n[null==t?void 0:t.apiName])?o:{},{hostname:l}=e,[,p,d]=null!=(a=f.exec(l))?a:[];return p===u?{service:p,region:null!=d?d:c}:"appsync-api"===p?{service:"appsync",region:null!=d?d:c}:{service:s,region:c}};e.s(["resolveApiUrl",()=>h],73433);var d=e.i(76518);let h=(e,t,r,o)=>{var a,s,c,l;let u=null==(l=e.getConfig())||null==(c=l.API)||null==(s=c.REST)||null==(a=s[t])?void 0:a.endpoint;!function(e,t){let{message:r,recoverySuggestion:o}=n.validationErrorMap[t];if(!e)throw new i.RestApiError({name:t,message:r,recoverySuggestion:o})}(!!u,n.RestApiValidationErrorCode.InvalidApiName);try{let e=new d.AmplifyUrl(u+r);if(o){let t=new d.AmplifyUrlSearchParams(e.searchParams);Object.entries(o).forEach(e=>{let[n,r]=e;t.set(n,r)}),e.search=new d.AmplifyUrlSearchParams(t).toString()}return e}catch(e){throw new i.RestApiError({name:n.RestApiValidationErrorCode.InvalidApiName,...n.validationErrorMap[n.RestApiValidationErrorCode.InvalidApiName],recoverySuggestion:"Please make sure the REST endpoint URL is a valid URL string. Got ".concat(u)})}};e.s(["isIamAuthApplicableForGraphQL",()=>y,"isIamAuthApplicableForRest",()=>v],61029);let y=(e,t)=>{let{headers:n}=e;return!n.authorization&&!n["x-api-key"]&&!!t},v=(e,t)=>{let{headers:n}=e;return!n.authorization&&!!t}},23487,66702,74876,22551,e=>{"use strict";e.s(["jitteredBackoff",()=>s],23487),e.s(["jitteredBackoff",()=>n],74876),e.s(["MAX_DELAY_MS",()=>t],66702);let t=3e5;function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}}e.s(["AMZ_SDK_INVOCATION_ID_HEADER",()=>i,"AMZ_SDK_REQUEST_HEADER",()=>o,"DEFAULT_MAX_DELAY_MS",()=>a,"DEFAULT_RETRY_ATTEMPTS",()=>r],22551);let r=3,i="amz-sdk-invocation-id",o="amz-sdk-request",a=3e5,s=e=>{let t=n(a)(e);return!1===t?a:t}},59785,e=>{"use strict";var t;e.s(["AmplifyErrorCode",()=>t]),function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"}(t||(t={}))},25413,e=>{"use strict";e.s(["getRetryDecider",()=>r],25413);var t=e.i(59785);let n=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],r=e=>async(t,r)=>{var i;let o=null!=(i=null!=r?r:await e(t))?i:void 0,l=(null==o?void 0:o.code)||(null==o?void 0:o.name),u=null==t?void 0:t.statusCode;return{retryable:s(r)||a(u,l)||(e=>!!e&&n.includes(e))(l)||c(u,l)}},i=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],o=["TimeoutError","RequestTimeout","RequestTimeoutException"],a=(e,t)=>429===e||!!t&&i.includes(t),s=e=>[t.AmplifyErrorCode.NetworkError,"ERR_NETWORK"].includes(null==e?void 0:e.name),c=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&o.includes(t)},49028,e=>{"use strict";e.s(["resolveHeaders",()=>t]);let t=(e,t)=>{let n={};for(let t in e)n[t.toLowerCase()]=e[t];if(t){let e=n["content-type"];e&&(e.startsWith("application/json")||e.startsWith("application/")&&e.includes("+json"))||(n["content-type"]="application/json; charset=UTF-8"),t instanceof FormData&&delete n["content-type"]}return n}},26224,e=>{"use strict";e.s(["fetchTransferHandler",()=>i],26224);var t=e.i(69993),n=e.i(59785);let r=e=>{let t;return()=>(t||(t=e()),t)},i=async(e,i)=>{var o,a;let s,{url:c,method:l,headers:u,body:f}=e,{abortSignal:p,cache:d,withCrossDomainCredentials:h}=i;try{s=await fetch(c,{method:l,headers:u,body:["HEAD","GET"].includes(l.toUpperCase())?void 0:f,signal:p,cache:d,credentials:h?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new t.AmplifyError({name:n.AmplifyErrorCode.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let y={};null==(o=s.headers)||o.forEach((e,t)=>{y[t.toLowerCase()]=e});let v={statusCode:s.status,headers:y,body:null},m=Object.assign(null!=(a=s.body)?a:{},{text:r(()=>s.text()),blob:r(()=>s.blob()),json:r(()=>s.json())});return{...v,body:m}}},52669,e=>{"use strict";e.s(["userAgentMiddlewareFactory",()=>t]);let t=e=>{let{userAgentHeader:t="x-amz-user-agent",userAgentValue:n=""}=e;return e=>async function(r){if(0===n.trim().length)return await e(r);{let i=t.toLowerCase();return r.headers[i]=r.headers[i]?"".concat(r.headers[i]," ").concat(n):n,await e(r)}}}},30362,e=>{"use strict";e.s(["retryMiddlewareFactory",()=>n]);var t=e.i(22551);let n=e=>{let{maxAttempts:n=t.DEFAULT_RETRY_ATTEMPTS,retryDecider:o,computeDelay:a,abortSignal:s}=e;if(n<1)throw Error("maxAttempts must be greater than 0");return(e,t)=>async function(c){var l,u,f;let p,d,h=null!=(l=t.attemptsCount)?l:0,y=()=>{if(d)return i(d,h),d;throw i(p,h),p};for(;!(null==s?void 0:s.aborted)&&h<n;){try{d=await e(c),p=void 0}catch(e){p=e,d=void 0}h=(null!=(u=t.attemptsCount)?u:0)>h?null!=(f=t.attemptsCount)?f:0:h+1,t.attemptsCount=h;let{isCredentialsExpiredError:i,retryable:l}=await o(d,p,t);if(!l)return y();if(t.isCredentialsExpired=!!i,!(null==s?void 0:s.aborted)&&h<n){let e=a(h);await r(e,s)}}if(null==s||!s.aborted)return y();throw Error("Request aborted.")}},r=(e,t)=>{let n,r;if(null==t?void 0:t.aborted)return Promise.resolve();let i=new Promise(t=>{r=t,n=setTimeout(t,e)});return null==t||t.addEventListener("abort",function e(i){clearTimeout(n),null==t||t.removeEventListener("abort",e),r()}),i},i=(e,t)=>{var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...null!=(n=e.$metadata)?n:{},attempts:t})}},29019,48077,e=>{"use strict";e.s(["signingMiddlewareFactory",()=>y],29019),e.s(["signRequest",()=>d],48077);let t=e=>Object.keys(e).map(e=>e.toLowerCase()).sort().join(";"),n="aws4_request",r="AWS4-HMAC-SHA256";e.i(62008);var i=e.i(17128),o=e.i(66088);let a=(e,t)=>{let n=new i.Sha256(null!=e?e:void 0);return n.update(t),n.digestSync()},s=(e,t)=>{let n=a(e,t);return(0,o.toHex)(n)},c=e=>encodeURIComponent(e).replace(/[!'()*]/g,l),l=e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()),u=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/"},f=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),p=function(e){let n,{body:r,headers:i,method:o,url:a}=e,l=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return[o,u(a.pathname,l),Array.from(a.searchParams).sort((e,t)=>{let[n,r]=e,[i,o]=t;return n===i?r<o?-1:1:n<i?-1:1}).map(e=>{let[t,n]=e;return"".concat(c(t),"=").concat(c(n))}).join("&"),Object.entries(i).map(e=>{var t;let[n,r]=e;return{key:n.toLowerCase(),value:null!=(t=null==r?void 0:r.trim().replace(/\s+/g," "))?t:""}}).sort((e,t)=>e.key<t.key?-1:1).map(e=>"".concat(e.key,":").concat(e.value,"\n")).join(""),t(i),null==r?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":"string"==typeof(n=r)||ArrayBuffer.isView(n)||f(n)?s(null,r):"UNSIGNED-PAYLOAD"].join("\n")},d=(e,i)=>{let o=(e=>{let{credentials:t,signingDate:r=new Date,signingRegion:i,signingService:o,uriEscapePath:a=!0}=e,{accessKeyId:s,secretAccessKey:c,sessionToken:l}=t,{longDate:u,shortDate:f}=(e=>{let t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}})(r);return{accessKeyId:s,credentialScope:"".concat(f,"/").concat(i,"/").concat(o,"/").concat(n),longDate:u,secretAccessKey:c,sessionToken:l,shortDate:f,signingRegion:i,signingService:o,uriEscapePath:a}})(i),{accessKeyId:c,credentialScope:l,longDate:u,sessionToken:f}=o,d={...e.headers};d.host=e.url.host,d["x-amz-date"]=u,f&&(d["x-amz-security-token"]=f);let h={...e,headers:d},y=((e,t)=>{let{credentialScope:i,longDate:o,secretAccessKey:c,shortDate:l,signingRegion:u,signingService:f,uriEscapePath:d}=t,h=[r,o,i,s(null,p(e,d))].join("\n");return s(((e,t,r,i)=>{let o=a("".concat("AWS4").concat(e),t),s=a(o,r),c=a(s,i);return a(c,n)})(c,l,u,f),h)})(h,o),v="Credential=".concat(c,"/").concat(l),m="SignedHeaders=".concat(t(d));return d.authorization="".concat(r," ").concat(v,", ").concat(m,", ").concat("Signature=".concat(y)),h},h=e=>new Date(Date.now()+e),y=e=>{let t,{credentials:n,region:r,service:i,uriEscapePath:o=!0}=e;return(e,a)=>async function(s){var c,l;t=null!=t?t:0;let u={credentials:"function"==typeof n?await n({forceRefresh:!!(null==a?void 0:a.isCredentialsExpired)}):n,signingDate:h(t),signingRegion:r,signingService:i,uriEscapePath:o},f=await d(s,u),p=await e(f),y=v(p);return y&&(c=Date.parse(y),t=Math.abs(h(l=t).getTime()-c)>=3e5?c-Date.now():l),p}},v=function(){var e,t;let{headers:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=(t=null!=(e=null==n?void 0:n.date)?e:null==n?void 0:n.Date)?t:null==n?void 0:n["x-amz-date"]}},92973,e=>{"use strict";e.s(["composeTransferHandler",()=>t]);let t=(e,t)=>(n,r)=>{let i={},o=t=>e(t,r);for(let e=t.length-1;e>=0;e--)o=(0,t[e])(r)(o,i);return o(n)}},72905,68771,11287,43503,83662,e=>{"use strict";e.s([],72905),e.i(49e3),e.i(74860);var t,n,r,i=e.i(53137),o=e.i(15098);e.i(76254),e.i(73433);var a=e.i(56402),s=e.i(61029),c=e.i(23487),l=e.i(25413),u=e.i(86619),f=e.i(49028),p=e.i(26224),d=e.i(52669),h=e.i(30362),y=e.i(29019),v=e.i(92973);let m=(0,v.composeTransferHandler)(p.fetchTransferHandler,[d.userAgentMiddlewareFactory,h.retryMiddlewareFactory,y.signingMiddlewareFactory]),g=(0,v.composeTransferHandler)(p.fetchTransferHandler,[d.userAgentMiddlewareFactory,h.retryMiddlewareFactory]),E=async(e,t,n,r)=>{var i,a,s,l,u;let p,{url:d,method:h,headers:y,body:v,withCredentials:E,abortSignal:T,retryStrategy:A}=t,_=v?v instanceof FormData?v:JSON.stringify(null!=v?v:""):void 0,N={url:d,headers:(0,f.resolveHeaders)(y,v),method:h,body:_},O={retryDecider:b(null!=A?A:null==e||null==(s=e.libraryOptions)||null==(a=s.API)||null==(i=a.REST)?void 0:i.retryStrategy),computeDelay:c.jitteredBackoff,withCrossDomainCredentials:E,abortSignal:T},w=n(N,r),I=await S(e);if(w&&I){let e=(0,o.parseSigningInfo)(d),t=null!=(l=null==r?void 0:r.service)?l:e.service,n=null!=(u=null==r?void 0:r.region)?u:e.region;p=await m(N,{...O,credentials:I,region:n,service:t})}else p=await g(N,{...O});return{statusCode:p.statusCode,headers:p.headers,body:p.body}},b=e=>"no-retry"===(null==e?void 0:e.strategy)?()=>Promise.resolve({retryable:!1}):(0,l.getRetryDecider)(u.parseRestApiServiceError),S=async e=>{try{let{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(e){a.logger.debug("No credentials available, the request will be unsigned.")}return null};e.s([],11287),e.s(["cancel",()=>_,"post",()=>A,"updateRequestToBeCancellable",()=>N],68771);let T=new WeakMap,A=(e,t)=>{let{url:n,options:r,abortController:o}=t,a=null!=o?o:new AbortController,c=(0,i.createCancellableOperation)(async()=>E(e,{url:n,method:"POST",...r,abortSignal:a.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},s.isIamAuthApplicableForGraphQL,null==r?void 0:r.signingServiceInfo),a).finally(()=>{T.delete(c)});return c},_=(e,t)=>{let n=T.get(e);return!!n&&(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0)},N=(e,t)=>{T.set(e,t)};e.s(["AWS_APPSYNC_REALTIME_HEADERS",()=>k,"CONNECTION_INIT_TIMEOUT",()=>R,"CONNECTION_STATE_CHANGE",()=>C,"DEFAULT_KEEP_ALIVE_ALERT_TIMEOUT",()=>P,"DEFAULT_KEEP_ALIVE_HEARTBEAT_TIMEOUT",()=>L,"DEFAULT_KEEP_ALIVE_TIMEOUT",()=>D,"MAX_DELAY_MS",()=>O,"MESSAGE_TYPES",()=>t,"NON_RETRYABLE_CODES",()=>w,"NON_RETRYABLE_ERROR_TYPES",()=>I,"RECONNECT_DELAY",()=>M,"RECONNECT_INTERVAL",()=>U,"SOCKET_STATUS",()=>r,"START_ACK_TIMEOUT",()=>x,"SUBSCRIPTION_STATUS",()=>n],43503);let O=5e3,w=[400,401,403],I=["BadRequestException","UnauthorizedException"],C="ConnectionStateChange";!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error",e.EVENT_SUBSCRIBE="subscribe",e.EVENT_PUBLISH="publish",e.EVENT_SUBSCRIBE_ACK="subscribe_success",e.EVENT_PUBLISH_ACK="publish_success",e.EVENT_STOP="unsubscribe",e.EVENT_COMPLETE="unsubscribe_success"}(t||(t={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(n||(n={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(r||(r={}));let k={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},R=15e3,x=15e3,D=3e5,L=5e3,P=65e3,M=5e3,U=6e4;e.s(["NonRetryableError",()=>F],83662);class F extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}},1958,e=>{"use strict";let t;e.s(["amplifyUuid",()=>o],1958);let n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},r=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));let o=function(e,o,a){var s,c,l;if(n.randomUUID&&!o&&!e)return n.randomUUID();let u=null!=(l=null!=(c=(e=e||{}).random)?c:null==(s=e.rng)?void 0:s.call(e))?l:function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(r)}();if(u.length<16)throw Error("Random bytes length must be >= 16");if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,o){if((a=a||0)<0||a+16>o.length)throw RangeError("UUID byte range ".concat(a,":").concat(a+15," is out of buffer bounds"));for(let e=0;e<16;++e)o[a+e]=u[e];return o}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}(u)}},3682,e=>{"use strict";e.s(["isNonRetryableError",()=>t]);let t=e=>e&&e.nonRetryable},78428,e=>{"use strict";e.s(["getAtob",()=>i,"getBtoa",()=>r,"getCrypto",()=>n]);var t=e.i(69993);let n=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new t.AmplifyError({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},r=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new t.AmplifyError({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},i=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new t.AmplifyError({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},95427,e=>{"use strict";e.s(["base64Encoder",()=>n],95427);var t=e.i(78428);let n={convert(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{urlSafe:!1,skipPadding:!1},r="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),i=(0,t.getBtoa)()(r);return n.urlSafe&&(i=i.replace(/\+/g,"-").replace(/\//g,"_")),n.skipPadding&&(i=i.replace(/=/g,"")),i}}},75074,259,12706,46674,92587,e=>{"use strict";e.s(["jitteredExponentialRetry",()=>u],75074);var t,n,r,i=e.i(66702),o=e.i(74876),a=e.i(32158),s=e.i(3682);let c=new a.ConsoleLogger("retryUtil");async function l(e,t,n,r){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise(async(i,o)=>{let a,l,u=0,f=!1,p=()=>{};for(r&&r.then(()=>{f=!0,clearTimeout(a),p()});!f;){u++,c.debug("".concat(e.name," attempt #").concat(u," with this vars: ").concat(JSON.stringify(t)));try{i(await e(...t));return}catch(i){if(l=i,c.debug("error on ".concat(e.name),i),(0,s.isNonRetryableError)(i)){c.debug("".concat(e.name," non retryable error"),i),o(i);return}let r=n(u,t,i);if(c.debug("".concat(e.name," retrying in ").concat(r," ms")),!1===r||f)return void o(i);await new Promise(e=>{a=setTimeout(p=e,r)})}}o(l)})}let u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MAX_DELAY_MS,r=arguments.length>3?arguments[3]:void 0;return l(e,t,(0,o.jitteredBackoff)(n),r)};e.s(["CONTROL_MSG",()=>t,"ConnectionState",()=>n],259),function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(t||(t={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(n||(n={})),e.s(["CONNECTION_CHANGE",()=>g,"ConnectionStateMonitor",()=>E],12706);var f=e.i(94426),p=e.i(94059),d=e.i(2965),h=e.i(27608),y=e.i(20324);e.i(77650),e.i(3752);e.i(17718),e.i(49449),e.i(87675),e.i(23515),e.i(38331),e.i(54824),e.i(11902);class v{networkMonitor(e){let t=(()=>{if("undefined"==typeof self)return!1;let e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope})()?self:"undefined"!=typeof window&&window;if(!t){var n;return n=[{online:!0}],(0,y.innerFrom)(n)}return new f.Observable(e=>{e.next({online:t.navigator.onLine});let n=()=>{e.next({online:!0})},r=()=>{e.next({online:!1})};return t.addEventListener("online",n),t.addEventListener("offline",r),v._observers.push(e),()=>{t.removeEventListener("online",n),t.removeEventListener("offline",r),v._observers=v._observers.filter(t=>t!==e)}})}static _observerOverride(e){for(let t of this._observers){if(t.closed){this._observers=this._observers.filter(e=>e!==t);continue}(null==t?void 0:t.next)&&t.next(e)}}}v._observers=[];let m=()=>new v().networkMonitor(),g={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class E{enableNetworkMonitoring(){var e;null==(e=this._initialNetworkStateSubscription)||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=m().subscribe(e=>{let{online:t}=e;this.record(t?g.ONLINE:g.OFFLINE)}))}disableNetworkMonitoring(){var e;null==(e=this._networkMonitoringSubscription)||e.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){var e;let t;return this._linkedConnectionStateObservable.pipe((0,p.map)(e=>this.connectionStatesTranslator(e))).pipe((e=e=>{let n=e!==t;return t=e,n},(0,d.operate)(function(t,n){var r=0;t.subscribe((0,h.createOperatorSubscriber)(n,function(t){return e.call(void 0,t,r++)&&n.next(t)}))})))}record(e){var t;"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();let n={...this._linkedConnectionState,...e};this._linkedConnectionState={...n},null==(t=this._linkedConnectionStateObserver)||t.next(this._linkedConnectionState)}connectionStatesTranslator(e){let{connectionState:t,networkState:r,intendedConnectionState:i,keepAliveState:o}=e;return"connected"===t&&"disconnected"===r?n.ConnectedPendingNetwork:"connected"===t&&"disconnected"===i?n.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===i&&"disconnected"===r?n.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===i?n.ConnectionDisrupted:"connected"===t&&"unhealthy"===o?n.ConnectedPendingKeepAlive:"connecting"===t?n.Connecting:"disconnected"===t?n.Disconnected:n.Connected}constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=m().subscribe(e=>{var t;let{online:n}=e;this.record(n?g.ONLINE:g.OFFLINE),null==(t=this._initialNetworkStateSubscription)||t.unsubscribe()}),this._linkedConnectionStateObservable=new f.Observable(e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e})}}e.s(["ReconnectEvent",()=>r,"ReconnectionMonitor",()=>S],46674);var b=e.i(43503);!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}(r||(r={}));class S{addObserver(e){this.reconnectObservers.push(e)}record(e){e===r.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},b.RECONNECT_INTERVAL)},b.RECONNECT_DELAY)),e===r.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(e=>{var t;null==(t=e.complete)||t.call(e)})}_triggerReconnect(){this.reconnectObservers.forEach(e=>{var t;null==(t=e.next)||t.call(e)})}constructor(){this.reconnectObservers=[]}}e.s(["additionalHeadersFromOptions",()=>C,"queryParamsFromCustomHeaders",()=>w,"realtimeUrlWithQueryString",()=>I],92587);var T=e.i(76518);let A="wss://",_=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,N=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,O="/realtime",w=e=>{let t=(e=>{if(!e)return{};if("Authorization"in e){let{Authorization:t,...n}=e;return n}return e})(e),n=new T.AmplifyUrlSearchParams;return Object.entries(t).forEach(e=>{let[t,r]=e;n.append(t,r)}),n},I=(e,t)=>{let n=(e=>{let t=null!=e?e:"";return t=(t=null!==t.match(N)?t.concat(O).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):null===t.match(_)?t.concat(O):t.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma")).replace("https://",A).replace("http://",A),new T.AmplifyUrl(t)})(e),r=new T.AmplifyUrlSearchParams(n.search);for(let[e,n]of t.entries())r.append(e,n);return n.search=r.toString(),n.toString()},C=async e=>{let{appSyncGraphqlEndpoint:t,query:n,libraryConfigHeaders:r=()=>({}),additionalHeaders:i={},authToken:o}=e,a={},s=await r();return a="function"==typeof i?await i({url:t||"",queryString:n||""}):i,o&&(a={...a,Authorization:o}),{additionalCustomHeaders:a,libraryConfigHeaders:s}}},62265,45403,e=>{"use strict";e.s(["fetchAuthSession",()=>r],62265);var t=e.i(74860);e.s(["fetchAuthSession",()=>n],45403);let n=(e,t)=>e.Auth.fetchAuthSession(t),r=e=>n(t.Amplify,e)},57765,e=>{"use strict";e.s(["generateClient",()=>eu],57765);var t,n=e.i(71094);e.i(78827);var r=e.i(47491),i=e.i(8025),o=e.i(73617),a=e.i(80710),s=e.i(13157),c=e.i(32720),l=e.i(94442),u=e.i(2956),f=e.i(92481),p=e.i(76518),d=e.i(83901);e.i(72905);var h=e.i(49e3);e.i(11287);var y=e.i(68771),v=e.i(89223),m=e.i(43503),g=e.i(94426),E=e.i(1770),b=e.i(32158),S=e.i(83662),T=e.i(1958),A=e.i(3682),_=e.i(95427),N=e.i(75074),O=e.i(259),w=e.i(12706),I=e.i(46674),C=e.i(92587),k=e.i(62265),R=e.i(48077);let x=new b.ConsoleLogger("AWSAppSyncRealTimeProvider Auth"),D=async e=>{var t,n;let{host:r}=e,i=await (0,k.fetchAuthSession)();return{Authorization:null==i||null==(n=i.tokens)||null==(t=n.accessToken)?void 0:t.toString(),host:r}},L=async e=>{let{apiKey:t,host:n}=e;return{host:n,"x-amz-date":new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),"x-api-key":t}},P=async e=>{let{payload:t,canonicalUri:n,appSyncGraphqlEndpoint:r,region:i}=e,o={region:i,service:"appsync"},a=(await (0,k.fetchAuthSession)()).credentials,s={url:"".concat(r).concat(n),data:t,method:"POST",headers:{...m.AWS_APPSYNC_REALTIME_HEADERS}};return(0,R.signRequest)({headers:s.headers,method:s.method,url:new p.AmplifyUrl(s.url),body:s.data},{credentials:a,signingRegion:o.region,signingService:o.service}).headers},M=async e=>{let{host:t,additionalCustomHeaders:n}=e;if(!(null==n?void 0:n.Authorization))throw Error("No auth token specified");return{Authorization:n.Authorization,host:t}},U=async e=>{let{apiKey:t,authenticationType:n,canonicalUri:r,appSyncGraphqlEndpoint:i,region:o,additionalCustomHeaders:a,payload:s}=e,c={apiKey:L,iam:P,oidc:D,userPool:D,lambda:M,none:M};if(!n||!c[n])return void x.debug("Authentication type ".concat(n," not supported"));{let e=c[n],l=i?new p.AmplifyUrl(i).host:void 0;return x.debug("Authenticating with ".concat(JSON.stringify(n))),await e({payload:s,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:"apiKey"===n?t:void 0,region:o,host:l,additionalCustomHeaders:a})}},F=e=>{n.Hub.dispatch("api",e,"PubSub",n.AMPLIFY_SYMBOL)};class j{close(){return this.socketStatus=m.SOCKET_STATUS.CLOSED,this.connectionStateMonitor.record(w.CONNECTION_CHANGE.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise((e,t)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=t=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,e()},this.awsRealTimeSocket.onerror=e=>{t(e)},this.awsRealTimeSocket.close()):e()})}subscribe(e,t){return new g.Observable(n=>{if(!(null==e?void 0:e.appSyncGraphqlEndpoint)){n.error({errors:[{...new E.GraphQLError("Subscribe only available for AWS AppSync endpoint")}]}),n.complete();return}let r=!1,i=(0,T.amplifyUuid)(),o=()=>{r||(r=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:e,observer:n,subscriptionId:i,customUserAgentDetails:t}).catch(e=>{this.logger.debug("".concat(O.CONTROL_MSG.REALTIME_SUBSCRIPTION_INIT_ERROR,": ").concat(e)),this._closeSocket()}).finally(()=>{r=!1}))},a=new g.Observable(e=>{this.reconnectionMonitor.addObserver(e)}).subscribe(()=>{o()});return o(),async()=>{await this._cleanupSubscription(i,a)}})}async connect(e){this.socketStatus!==m.SOCKET_STATUS.READY&&await this._connectWebSocket(e)}async publish(e,t){if(this.socketStatus!==m.SOCKET_STATUS.READY)throw Error("Subscription has not been initialized");return this._publishMessage(e,t)}async _connectWebSocket(e){let{apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:r,region:i}=e,{additionalCustomHeaders:o}=await (0,C.additionalHeadersFromOptions)(e);this.connectionStateMonitor.record(w.CONNECTION_CHANGE.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:r,region:i,additionalCustomHeaders:o})}async _publishMessage(e,t){let n=(0,T.amplifyUuid)(),{additionalCustomHeaders:r,libraryConfigHeaders:i}=await (0,C.additionalHeadersFromOptions)(e),o=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:t,additionalCustomHeaders:r,libraryConfigHeaders:i,publish:!0});return new Promise((e,t)=>{if(this.awsRealTimeSocket){let r=i=>{let o=JSON.parse(i.data);if(o.id===n&&"publish_success"===o.type&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",r),s(),e()),o.errors&&o.errors.length>0){let e=o.errors.map(e=>e.errorType);s(),t(Error("Publish errors: ".concat(e.join(", "))))}},i=e=>{s(),t(Error("WebSocket error: ".concat(e)))},a=()=>{s(),t(Error("WebSocket is closed"))},s=()=>{var e,t,n;null==(e=this.awsRealTimeSocket)||e.removeEventListener("message",r),null==(t=this.awsRealTimeSocket)||t.removeEventListener("error",i),null==(n=this.awsRealTimeSocket)||n.removeEventListener("close",a)};this.awsRealTimeSocket.addEventListener("message",r),this.awsRealTimeSocket.addEventListener("error",i),this.awsRealTimeSocket.addEventListener("close",a),this.awsRealTimeSocket.send(o)}else t(Error("WebSocket is not connected"))})}async _cleanupSubscription(e,t){null==t||t.unsubscribe();try{await this._waitForSubscriptionToBeConnected(e);let{subscriptionState:t}=this.subscriptionObserverMap.get(e)||{};if(!t)return;if(t===m.SUBSCRIPTION_STATUS.CONNECTED)this._sendUnsubscriptionMessage(e);else throw Error("Subscription never connected")}catch(e){this.logger.debug("Error while unsubscribing ".concat(e))}finally{this._removeSubscriptionObserver(e)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe(e=>{F({event:m.CONNECTION_STATE_CHANGE,data:{provider:this,connectionState:e},message:"Connection state is ".concat(e)}),this.connectionState=e,e===O.ConnectionState.ConnectionDisrupted&&this.reconnectionMonitor.record(I.ReconnectEvent.START_RECONNECT),[O.ConnectionState.Connected,O.ConnectionState.ConnectedPendingDisconnect,O.ConnectionState.ConnectedPendingKeepAlive,O.ConnectionState.ConnectedPendingNetwork,O.ConnectionState.ConnectionDisruptedPendingNetwork,O.ConnectionState.Disconnected].includes(e)&&this.reconnectionMonitor.record(I.ReconnectEvent.HALT_RECONNECT)})}async _startSubscriptionWithAWSAppSyncRealTime(e){var t;let{options:n,observer:r,subscriptionId:i,customUserAgentDetails:o}=e,{query:a,variables:s}=n;this.subscriptionObserverMap.set(i,{observer:r,query:null!=a?a:"",variables:null!=s?s:{},subscriptionState:m.SUBSCRIPTION_STATUS.PENDING,startAckTimeoutId:void 0});let{additionalCustomHeaders:c,libraryConfigHeaders:l}=await (0,C.additionalHeadersFromOptions)(n),u=await this._prepareSubscriptionPayload({options:n,subscriptionId:i,customUserAgentDetails:o,additionalCustomHeaders:c,libraryConfigHeaders:l});try{await this._connectWebSocket(n)}catch(e){this._logStartSubscriptionError(i,r,e);return}let{subscriptionFailedCallback:f,subscriptionReadyCallback:p}=null!=(t=this.subscriptionObserverMap.get(i))?t:{};this.subscriptionObserverMap.set(i,{observer:r,subscriptionState:m.SUBSCRIPTION_STATUS.PENDING,query:null!=a?a:"",variables:null!=s?s:{},subscriptionReadyCallback:p,subscriptionFailedCallback:f,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck(i)},m.START_ACK_TIMEOUT)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(u)}_logStartSubscriptionError(e,t,n){var r;this.logger.debug({err:n});let i=String(null!=(r=n.message)?r:"");if(this._closeSocket(),this.connectionState!==O.ConnectionState.ConnectionDisruptedPendingNetwork){(0,A.isNonRetryableError)(n)?t.error({errors:[{...new E.GraphQLError("".concat(O.CONTROL_MSG.CONNECTION_FAILED,": ").concat(i))}]}):this.logger.debug("".concat(O.CONTROL_MSG.CONNECTION_FAILED,": ").concat(i));let{subscriptionFailedCallback:r}=this.subscriptionObserverMap.get(e)||{};"function"==typeof r&&r()}}async _waitForSubscriptionToBeConnected(e){let t=this.subscriptionObserverMap.get(e);if(t){let{subscriptionState:n}=t;if(n===m.SUBSCRIPTION_STATUS.PENDING)return new Promise((n,r)=>{let{observer:i,subscriptionState:o,variables:a,query:s}=t;this.subscriptionObserverMap.set(e,{observer:i,subscriptionState:o,variables:a,query:s,subscriptionReadyCallback:n,subscriptionFailedCallback:r})})}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===m.SOCKET_STATUS.READY){let t=this._unsubscribeMessage(e),n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){this.logger.debug({err:e})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=m.SOCKET_STATUS.CLOSED;return}if(this.connectionStateMonitor.record(w.CONNECTION_CHANGE.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");let e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=m.SOCKET_STATUS.CLOSED,this._closeSocket()}}}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(e){let t=Date.now();t-this.keepAliveTimestamp>m.DEFAULT_KEEP_ALIVE_ALERT_TIMEOUT?this.connectionStateMonitor.record(w.CONNECTION_CHANGE.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(w.CONNECTION_CHANGE.KEEP_ALIVE),t-this.keepAliveTimestamp>e&&this._errorDisconnect(O.CONTROL_MSG.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(e){if("string"!=typeof e.data)return;let[t,n]=this._handleSubscriptionData(e);if(t)return void this.maintainKeepAlive();let{type:r,id:i,payload:o}=n,{observer:a=null,query:s="",variables:c={},startAckTimeoutId:l,subscriptionReadyCallback:u,subscriptionFailedCallback:f}=this.subscriptionObserverMap.get(i)||{};if(r===m.MESSAGE_TYPES.GQL_START_ACK||r===m.MESSAGE_TYPES.EVENT_SUBSCRIBE_ACK){this.logger.debug("subscription ready for ".concat(JSON.stringify({query:s,variables:c}))),"function"==typeof u&&u(),l&&clearTimeout(l),F({event:O.CONTROL_MSG.SUBSCRIPTION_ACK,data:{query:s,variables:c},message:"Connection established for subscription"});let e=m.SUBSCRIPTION_STATUS.CONNECTED;a&&this.subscriptionObserverMap.set(i,{observer:a,query:s,variables:c,startAckTimeoutId:void 0,subscriptionState:e,subscriptionReadyCallback:u,subscriptionFailedCallback:f}),this.connectionStateMonitor.record(w.CONNECTION_CHANGE.CONNECTION_ESTABLISHED);return}if(r===m.MESSAGE_TYPES.GQL_CONNECTION_KEEP_ALIVE)return void this.maintainKeepAlive();if(r===m.MESSAGE_TYPES.GQL_ERROR){let e=m.SUBSCRIPTION_STATUS.FAILED;a&&(this.subscriptionObserverMap.set(i,{observer:a,query:s,variables:c,startAckTimeoutId:l,subscriptionReadyCallback:u,subscriptionFailedCallback:f,subscriptionState:e}),this.logger.debug("".concat(O.CONTROL_MSG.CONNECTION_FAILED,": ").concat(JSON.stringify(null!=o?o:n))),a.error({errors:[{...new E.GraphQLError("".concat(O.CONTROL_MSG.CONNECTION_FAILED,": ").concat(JSON.stringify(null!=o?o:n)))}]}),l&&clearTimeout(l),"function"==typeof f&&f())}}_errorDisconnect(e){this.logger.debug("Disconnect error: ".concat(e)),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=m.SOCKET_STATUS.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(w.CONNECTION_CHANGE.CLOSED)}_timeoutStartSubscriptionAck(e){let t=this.subscriptionObserverMap.get(e);if(t){let{observer:n,query:r,variables:i}=t;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:m.SUBSCRIPTION_STATUS.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}}_initializeWebSocketConnection(e){let{appSyncGraphqlEndpoint:t,authenticationType:n,apiKey:r,region:i,additionalCustomHeaders:o}=e;if(this.socketStatus!==m.SOCKET_STATUS.READY)return new Promise(async(e,a)=>{if(this.promiseArray.push({res:e,rej:a}),this.socketStatus===m.SOCKET_STATUS.CLOSED)try{this.socketStatus=m.SOCKET_STATUS.CONNECTING;let e=await U({authenticationType:n,payload:"{}",canonicalUri:this.wsConnectUri,apiKey:r,appSyncGraphqlEndpoint:t,region:i,additionalCustomHeaders:o}),a=e?JSON.stringify(e):"",s=_.base64Encoder.convert(a,{urlSafe:!0,skipPadding:!0}),c=(0,C.queryParamsFromCustomHeaders)(o),l=(0,C.realtimeUrlWithQueryString)(t,c);await this._establishRetryableConnection(l,"header-".concat(s)),this.promiseArray.forEach(e=>{let{res:t}=e;this.logger.debug("Notifying connection successful"),t()}),this.socketStatus=m.SOCKET_STATUS.READY,this.promiseArray=[]}catch(e){this.logger.debug("Connection exited with",e),this.promiseArray.forEach(t=>{let{rej:n}=t;n(e)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=m.SOCKET_STATUS.CLOSED}})}async _establishRetryableConnection(e,t){this.logger.debug("Establishing retryable connection"),await (0,N.jitteredExponentialRetry)(this._establishConnection.bind(this),[e,t],m.MAX_DELAY_MS)}async _openConnection(e,t){return new Promise((n,r)=>{let i=this._getNewWebSocket(e,[this.wsProtocolName,t]);i.onerror=()=>{this.logger.debug("WebSocket connection error")},i.onclose=()=>{this._closeSocket(),r(Error("Connection handshake error"))},i.onopen=()=>{this.awsRealTimeSocket=i,n()}})}_getNewWebSocket(e,t){return new WebSocket(e,t)}async _initiateHandshake(){return new Promise((e,t)=>{if(!this.awsRealTimeSocket)return void t(Error("awsRealTimeSocket undefined"));let n=!1;this.awsRealTimeSocket.onerror=e=>{this.logger.debug("WebSocket error ".concat(JSON.stringify(e)))},this.awsRealTimeSocket.onclose=e=>{this.logger.debug("WebSocket closed ".concat(e.reason)),this._closeSocket(),t(Error(JSON.stringify(e)))},this.awsRealTimeSocket.onmessage=r=>{if("string"!=typeof r.data)return;this.logger.debug("subscription message from AWS AppSyncRealTime: ".concat(r.data," "));let i=JSON.parse(r.data),{type:o}=i,a=this._extractConnectionTimeout(i);if(o===m.MESSAGE_TYPES.GQL_CONNECTION_ACK){n=!0,this._registerWebsocketHandlers(a),e("Connected to AWS AppSyncRealTime");return}if(o===m.MESSAGE_TYPES.GQL_CONNECTION_ERROR){let{errorType:e,errorCode:n}=this._extractErrorCodeAndType(i);t({errorType:e,errorCode:n})}};let r={type:m.MESSAGE_TYPES.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(r));let i=e=>{e||(this.connectionStateMonitor.record(w.CONNECTION_CHANGE.CONNECTION_FAILED),t(Error("Connection timeout: ack from AWSAppSyncRealTime was not received after ".concat(m.CONNECTION_INIT_TIMEOUT," ms"))))};setTimeout(()=>{i(n)},m.CONNECTION_INIT_TIMEOUT)})}_registerWebsocketHandlers(e){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval(()=>{this.keepAliveHeartbeat(e)},m.DEFAULT_KEEP_ALIVE_HEARTBEAT_TIMEOUT),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=e=>{this.logger.debug(e),this._errorDisconnect(O.CONTROL_MSG.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug("WebSocket closed ".concat(e.reason)),this._closeSocket(),this._errorDisconnect(O.CONTROL_MSG.CONNECTION_CLOSED)})}constructor(e){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=m.SOCKET_STATUS.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new w.ConnectionStateMonitor,this.reconnectionMonitor=new I.ReconnectionMonitor,this._establishConnection=async(e,t)=>{this.logger.debug("Establishing WebSocket connection to ".concat(e));try{await this._openConnection(e,t),await this._initiateHandshake()}catch(n){let{errorType:e,errorCode:t}=n;if(m.NON_RETRYABLE_CODES.includes(t)||m.NON_RETRYABLE_ERROR_TYPES.includes(e))throw new S.NonRetryableError(e);if(e)throw Error(e);throw n}},this.logger=new b.ConsoleLogger(e.providerName),this.wsProtocolName=e.wsProtocolName,this.wsConnectUri=e.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}}let B="AWSAppSyncRealTimeProvider";class G extends j{getProviderName(){return B}subscribe(e,t){return super.subscribe(e,t)}async _prepareSubscriptionPayload(e){let{options:t,subscriptionId:n,customUserAgentDetails:r,additionalCustomHeaders:i,libraryConfigHeaders:o}=e,{appSyncGraphqlEndpoint:a,authenticationType:s,query:c,variables:l,apiKey:u,region:f}=t,p=JSON.stringify({query:c,variables:l}),h={...await U({apiKey:u,appSyncGraphqlEndpoint:a,authenticationType:s,payload:p,canonicalUri:"",region:f,additionalCustomHeaders:i}),...o,...i,[v.USER_AGENT_HEADER]:(0,d.getAmplifyUserAgent)(r)};return JSON.stringify({id:n,payload:{data:p,extensions:{authorization:{...h}}},type:m.MESSAGE_TYPES.GQL_START})}_handleSubscriptionData(e){this.logger.debug("subscription message from AWS AppSync RealTime: ".concat(e.data));let{id:t="",payload:n,type:r}=JSON.parse(String(e.data)),{observer:i=null,query:o="",variables:a={}}=this.subscriptionObserverMap.get(t)||{};return(this.logger.debug({id:t,observer:i,query:o,variables:a}),r===m.MESSAGE_TYPES.DATA&&n&&n.data)?(i?i.next(n):this.logger.debug("observer not found for id: ".concat(t)),[!0,{id:t,type:r,payload:n}]):[!1,{id:t,type:r,payload:n}]}_unsubscribeMessage(e){return{id:e,type:m.MESSAGE_TYPES.GQL_STOP}}_extractConnectionTimeout(e){let{payload:{connectionTimeoutMs:t=m.DEFAULT_KEEP_ALIVE_TIMEOUT}={}}=e;return t}_extractErrorCodeAndType(e){let{payload:{errors:[{errorType:t="",errorCode:n=0}={}]=[]}={}}=e;return{errorCode:n,errorType:t}}constructor(){super({providerName:B,wsProtocolName:"graphql-ws",connectUri:"/connect"})}}var K=e.i(69993);class V extends K.AmplifyError{constructor(e){super(e),this.constructor=V,Object.setPrototypeOf(this,V.prototype)}}!function(e){e.NoAuthSession="NoAuthSession",e.NoRegion="NoRegion",e.NoCustomEndpoint="NoCustomEndpoint"}(t||(t={}));let q={[t.NoAuthSession]:{message:"Auth session should not be empty."},[t.NoRegion]:{message:"Missing region."},[t.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}},W=new b.ConsoleLogger("GraphQLAPI resolveConfig"),Y=e=>{var n,r,i;let o=e.getConfig();(null==(n=o.API)?void 0:n.GraphQL)||W.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");let{apiKey:a,customEndpoint:s,customEndpointRegion:c,defaultAuthMode:l,endpoint:u,region:f}=null!=(i=null==(r=o.API)?void 0:r.GraphQL)?i:{};return!function(e,t){let{message:n,recoverySuggestion:r}=q[t];if(!e)throw new V({name:t,message:n,recoverySuggestion:r})}(!(!s&&c),t.NoCustomEndpoint),{apiKey:a,customEndpoint:s,customEndpointRegion:c,defaultAuthMode:l,endpoint:u,region:f}},H=e=>{var t,n,r,i,o,a;return{headers:null==(r=e.libraryOptions)||null==(n=r.API)||null==(t=n.GraphQL)?void 0:t.headers,withCredentials:null==(a=e.libraryOptions)||null==(o=a.API)||null==(i=o.GraphQL)?void 0:i.withCredentials}};function Q(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(e=>{var t,n,r,i,o;((null==(t=e)||null==(r=t.originalError)||null==(n=r.name)?void 0:n.startsWith("UnauthorizedException"))||(null==(i=t.message)?void 0:i.startsWith("Connection failed:"))&&(null==(o=t.message)?void 0:o.includes("Permission denied")))&&(e.message="Unauthorized",e.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")}),e}let z={name:"NoApiKey",message:i.GraphQLAuthError.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},J={name:"NoCredentials",message:i.GraphQLAuthError.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},X={name:"NoValidAuthTokens",message:i.GraphQLAuthError.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},$={name:"NoSignedUser",message:i.GraphQLAuthError.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},Z={name:"NoAuthorizationHeader",message:i.GraphQLAuthError.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},ee={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},et=e=>({data:{},errors:[new E.GraphQLError(e.message,null,null,null,null,e)]});async function en(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={};switch(t){case"apiKey":if(!n)throw new V(z);i={"X-Api-Key":n};break;case"iam":if(void 0===(await e.Auth.fetchAuthSession()).credentials)throw new V(J);break;case"oidc":case"userPool":{let t;try{var o;t=null==(o=(await e.Auth.fetchAuthSession()).tokens)?void 0:o.accessToken.toString()}catch(e){throw new V({...$,underlyingError:e})}if(!t)throw new V(X);i={Authorization:t};break}case"lambda":if("object"==typeof r&&!r.Authorization)throw new V(Z);i={Authorization:r.Authorization}}return i}class er{getModuleName(){return"InternalGraphQLAPI"}getGraphqlOperationType(e){let[{operation:t}]=(0,l.parse)(e).definitions;return t}graphql(e,t,n,r){let{query:i,variables:o={},authMode:a,authToken:s,endpoint:c,apiKey:f}=t,p="string"==typeof i?(0,l.parse)(i):(0,l.parse)((0,u.print)(i)),[d={}]=p.definitions.filter(e=>"OperationDefinition"===e.kind),{operation:h}=d,y=n||{};switch(h){case"query":case"mutation":{let t,n=new AbortController;return t="function"!=typeof e?this._graphql(e,{query:p,variables:o,authMode:a,apiKey:f,endpoint:c},y,n,r,s):e(async e=>await this._graphql(e,{query:p,variables:o,authMode:a,apiKey:f,endpoint:c},y,n,r,s)),this._api.updateRequestToBeCancellable(t,n),t}case"subscription":return this._graphqlSubscribe(e,{query:p,variables:o,authMode:a,apiKey:f,endpoint:c},y,r,s);default:throw Error("invalid operation type: ".concat(h))}}async _graphql(e,t){var n;let r,i,o,{query:a,variables:s,authMode:c,endpoint:l,apiKey:f}=t,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0,v=arguments.length>4?arguments[4]:void 0,m=arguments.length>5?arguments[5]:void 0,{apiKey:g,region:E,endpoint:b,customEndpoint:S,customEndpointRegion:T,defaultAuthMode:A}=Y(e),_=c||A||"iam",N="identityPool"===_?"iam":_,{headers:O,withCredentials:w}=H(e);if("function"==typeof h){let e={method:"POST",url:new p.AmplifyUrl(l||S||b||"").toString(),queryString:(0,u.print)(a)};r=await h(e)}else r=h;m&&(r={...r,Authorization:m});let I=await en(e,N,null!=f?f:g,r),C={...!S&&I,...S&&(T?I:{})||{},...O&&await O({query:(0,u.print)(a),variables:s}),...r,...!S&&{"x-amz-user-agent":(0,d.getAmplifyUserAgent)(v)}},k={query:(0,u.print)(a),variables:s||null};i=S&&!T||"oidc"!==N&&"userPool"!==N&&"iam"!==N&&"lambda"!==N?void 0:{service:T?"execute-api":"appsync",region:T||E};let R=l||S||b;if(!R)throw et(new V(ee));try{let{body:t}=await this._api.post(e,{url:new p.AmplifyUrl(R),options:{headers:C,body:k,signingServiceInfo:i,withCredentials:w},abortController:y});o=await t.json()}catch(e){if(this.isCancelError(e))throw e;o=et(e)}if((n=o)&&Array.isArray(n.errors)&&n.errors.length>0)throw Q(o);return o}isCancelError(e){return this._api.isCancelErrorREST(e)}cancel(e,t){return this._api.cancelREST(e,t)}_graphqlSubscribe(e,t){var n;let{query:r,variables:i,authMode:o,apiKey:a,endpoint:s}=t,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0,d=Y(e),h=o||(null==d?void 0:d.defaultAuthMode)||"iam",{headers:y}=H(e),v=null!=s?s:null==d?void 0:d.endpoint,m=null!=v?v:"none",g=null!=(n=this.appSyncRealTime.get(m))?n:new G;return this.appSyncRealTime.set(m,g),g.subscribe({query:(0,u.print)(r),variables:i,appSyncGraphqlEndpoint:v,region:null==d?void 0:d.region,authenticationType:"identityPool"===h?"iam":h,apiKey:null!=a?a:null==d?void 0:d.apiKey,additionalHeaders:c,authToken:p,libraryConfigHeaders:y},l).pipe((0,f.catchError)(e=>{if(e.errors)throw Q(e);throw e}))}constructor(){this.appSyncRealTime=new Map,this._api={post:y.post,cancelREST:y.cancel,isCancelErrorREST:h.isCancelError,updateRequestToBeCancellable:y.updateRequestToBeCancellable}}}new er;let ei=new class extends er{getModuleName(){return"GraphQLAPI"}graphql(e,t,n){let r={category:s.Category.API,action:s.ApiAction.GraphQl};if(c.INTERNAL_USER_AGENT_OVERRIDE in t){let{[c.INTERNAL_USER_AGENT_OVERRIDE]:i,...o}=t;return super.graphql(e,o,n,{...r,...i})}return super.graphql(e,t,n,{...r})}isCancelError(e){return super.isCancelError(e)}cancel(e,t){return super.cancel(e,t)}};function eo(e,t){var n;let r=(0,i.getInternals)(this),o=r.endpoint,a=r.authMode,s=r.apiKey;if(e.authMode=e.authMode||a,e.apiKey=null!=(n=e.apiKey)?n:s,e.authToken=e.authToken||r.authToken,o&&"apiKey"===e.authMode&&!e.apiKey)throw Error("graphql() requires an explicit `apiKey` for a custom `endpoint` when `authMode = 'apiKey'`.");let c=t||r.headers;return ei.graphql(r.amplify,{...e,endpoint:o},c)}function ea(e,t){return ei.cancel(e,t)}function es(e){return ei.isCancelError(e)}let ec=new Proxy({},{get(){throw Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});var el=e.i(74860);function eu(e){return function(e){var t,s;let c={[i.__amplify]:e.amplify,[i.__authMode]:e.authMode,[i.__authToken]:e.authToken,[i.__apiKey]:"apiKey"in e?e.apiKey:void 0,[i.__endpoint]:"endpoint"in e?e.endpoint:void 0,[i.__headers]:e.headers,graphql:eo,cancel:ea,isCancelError:es,models:ec,enums:ec,queries:ec,mutations:ec,subscriptions:ec},l=null==(t=e.amplify.getConfig().API)?void 0:t.GraphQL;if(c[i.__endpoint]){if(!c[i.__authMode])throw Error("generateClient() requires an explicit `authMode` when `endpoint` is provided.");if("apiKey"===c[i.__authMode]&&!c[i.__apiKey])throw Error("generateClient() requires an explicit `apiKey` when `endpoint` is provided and `authMode = 'apiKey'`.")}return c[i.__endpoint]||((0,o.isApiGraphQLConfig)(l)?(0,r.addSchemaToClient)(c,l,i.getInternals):(s=c,n.Hub.listen("core",e=>{var t;if(!(0,a.isConfigureEventWithResourceConfig)(e.payload))return;let n=null==(t=e.payload.data.API)?void 0:t.GraphQL;(0,o.isApiGraphQLConfig)(n)&&(0,r.addSchemaToClient)(s,n,i.getInternals)}))),c}({...e||{},amplify:el.Amplify})}}]);