module.exports=[89578,a=>{a.v({className:"geist_a71539c9-module__T19VSG__className",variable:"geist_a71539c9-module__T19VSG__variable"})},35214,a=>{a.v({className:"geist_mono_8d43a2aa-module__8Li5zG__className",variable:"geist_mono_8d43a2aa-module__8Li5zG__variable"})},42570,a=>{a.v(JSON.parse('{"auth":{"user_pool_id":"us-east-1_EXAMPLE","aws_region":"us-east-1","user_pool_client_id":"EXAMPLE","identity_pool_id":"us-east-1:EXAMPLE","mfa_methods":[],"standard_required_attributes":["email"],"username_attributes":["email"],"user_verification_types":["email"],"mfa_configuration":"OFF","password_policy":{"min_length":8,"require_lowercase":true,"require_numbers":true,"require_symbols":true,"require_uppercase":true}},"data":{"url":"https://EXAMPLE.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","api_key":"da2-EXAMPLE","default_authorization_type":"API_KEY","authorization_types":["API_KEY","AMAZON_COGNITO_USER_POOLS"]},"version":"1"}'))},27572,a=>{"use strict";let b;a.s(["default",()=>bO,"metadata",()=>bN],27572);var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=a.i(7997),v=a.i(89578);let w={className:v.default.className,style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"}};null!=v.default.variable&&(w.variable=v.default.variable);var x=a.i(35214);let y={className:x.default.className,style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"}};null!=x.default.variable&&(y.variable=x.default.variable),!function(a){a.DEBUG="DEBUG",a.ERROR="ERROR",a.INFO="INFO",a.WARN="WARN",a.VERBOSE="VERBOSE",a.NONE="NONE"}(c||(c={}));let z={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class A{constructor(a,b=c.WARN){this.name=a,this.level=b,this._pluggables=[]}_padding(a){return a<10?"0"+a:""+a}_ts(){let a=new Date;return[this._padding(a.getMinutes()),this._padding(a.getSeconds())].join(":")+"."+a.getMilliseconds()}configure(a){return a&&(this._config=a),this._config}_log(a,...b){let d=this.level;A.LOG_LEVEL&&(d=A.LOG_LEVEL);let e=z[d];if(!(z[a]>=e))return;let f=console.log.bind(console);a===c.ERROR&&console.error&&(f=console.error.bind(console)),a===c.WARN&&console.warn&&(f=console.warn.bind(console)),A.BIND_ALL_LOG_LEVELS&&(a===c.INFO&&console.info&&(f=console.info.bind(console)),a===c.DEBUG&&console.debug&&(f=console.debug.bind(console)));let g=`[${a}] ${this._ts()} ${this.name}`,h="";if(1===b.length&&"string"==typeof b[0])f(h=`${g} - ${b[0]}`);else if(1===b.length)h=`${g} ${b[0]}`,f(g,b[0]);else if("string"==typeof b[0]){let a=b.slice(1);1===a.length&&(a=a[0]),h=`${g} - ${b[0]} ${a}`,f(`${g} - ${b[0]}`,a)}else h=`${g} ${b}`,f(g,b);for(let a of this._pluggables){let b={message:h,timestamp:Date.now()};a.pushLogs([b])}}log(...a){this._log(c.INFO,...a)}info(...a){this._log(c.INFO,...a)}warn(...a){this._log(c.WARN,...a)}error(...a){this._log(c.ERROR,...a)}debug(...a){this._log(c.DEBUG,...a)}verbose(...a){this._log(c.VERBOSE,...a)}addPluggable(a){a&&"Logging"===a.getCategoryName()&&(this._pluggables.push(a),a.configure(this._config))}listPluggables(){return this._pluggables}}A.LOG_LEVEL=null,A.BIND_ALL_LOG_LEVELS=!1;class B extends Error{constructor({message:a,name:b,recoverySuggestion:c,underlyingError:d,metadata:e}){if(super(a),this.name=b,this.underlyingError=d,this.recoverySuggestion=c,e){let{extendedRequestId:a,httpStatusCode:b,requestId:c}=e;this.metadata={extendedRequestId:a,httpStatusCode:b,requestId:c}}this.constructor=B,Object.setPrototypeOf(this,B.prototype)}}let C="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",D=new A("Hub");class E{constructor(a){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=a}_remove(a,b){let c=this.listeners.get(a);if(!c)return void D.warn(`No listeners for ${a}`);this.listeners.set(a,[...c.filter(({callback:a})=>a!==b)])}dispatch(a,b,c,d){"string"==typeof a&&this.protectedChannels.indexOf(a)>-1&&d!==C&&D.warn(`WARNING: ${a} is protected and dispatching on it can have unintended consequences`);let e={channel:a,payload:{...b},source:c,patternInfo:[]};try{this._toListeners(e)}catch(a){D.error(a)}}listen(a,b,c="noname"){if("function"!=typeof b)throw new B({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});let d=this.listeners.get(a);return d||(d=[],this.listeners.set(a,d)),d.push({name:c,callback:b}),()=>{this._remove(a,b)}}_toListeners(a){let{channel:b,payload:c}=a,d=this.listeners.get(b);d&&d.forEach(d=>{D.debug(`Dispatching to ${b} with `,c);try{d.callback(a)}catch(a){D.error(a)}})}}let F=new E("__default__");new E("internal-hub");let G=a=>{for(let b of Reflect.ownKeys(a)){let c=a[b];(c&&"object"==typeof c||"function"==typeof c)&&G(c)}return Object.freeze(a)},H=Symbol("oauth-listener"),I=new A("parseAWSExports"),J={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},K=a=>a?.split(",")??[],L={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},M={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},N=a=>Object.keys(a).some(a=>a.startsWith("aws_"))?((a={})=>{if(!Object.prototype.hasOwnProperty.call(a,"aws_project_region"))throw new B({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:b,aws_appsync_authenticationType:c,aws_appsync_graphqlEndpoint:d,aws_appsync_region:e,aws_bots_config:f,aws_cognito_identity_pool_id:g,aws_cognito_sign_up_verification_method:h,aws_cognito_mfa_configuration:i,aws_cognito_mfa_types:j,aws_cognito_password_protection_settings:k,aws_cognito_verification_mechanisms:l,aws_cognito_signup_attributes:m,aws_cognito_social_providers:n,aws_cognito_username_attributes:o,aws_mandatory_sign_in:p,aws_mobile_analytics_app_id:q,aws_mobile_analytics_app_region:r,aws_user_files_s3_bucket:s,aws_user_files_s3_bucket_region:t,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:u,aws_user_pools_id:v,aws_user_pools_web_client_id:w,geo:x,oauth:y,predictions:z,aws_cloud_logic_custom:A,Notifications:C,modelIntrospection:D}=a,E={};q&&(E.Analytics={Pinpoint:{appId:q,region:r}});let{InAppMessaging:F,Push:G}=C??{};if(F?.AWSPinpoint||G?.AWSPinpoint){if(F?.AWSPinpoint){let{appId:a,region:b}=F.AWSPinpoint;E.Notifications={InAppMessaging:{Pinpoint:{appId:a,region:b}}}}if(G?.AWSPinpoint){let{appId:a,region:b}=G.AWSPinpoint;E.Notifications={...E.Notifications,PushNotification:{Pinpoint:{appId:a,region:b}}}}}if(Array.isArray(f)&&(E.Interactions={LexV1:Object.fromEntries(f.map(a=>[a.name,a]))}),d){let a=J[c];a||I.debug(`Invalid authentication type ${c}. Falling back to IAM.`),E.API={GraphQL:{endpoint:d,apiKey:b,region:e,defaultAuthMode:a??"iam"}},D&&(E.API.GraphQL.modelIntrospection=D)}let H=i?{status:i&&i.toLowerCase(),totpEnabled:j?.includes("TOTP")??!1,smsEnabled:j?.includes("SMS")??!1}:void 0,L=k?{minLength:k.passwordPolicyMinLength,requireLowercase:k.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:k.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:k.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:k.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,M=Array.from(new Set([...l??[],...m??[]])).reduce((a,b)=>({...a,[b.toLowerCase()]:{required:!0}}),{}),N=o?.includes("EMAIL")??!1,O=o?.includes("PHONE_NUMBER")??!1;(g||v)&&(E.Auth={Cognito:{identityPoolId:g,allowGuestAccess:"enable"!==p,signUpVerificationMethod:h,userAttributes:M,userPoolClientId:w,userPoolId:v,mfa:H,passwordFormat:L,loginWith:{username:!(N||O),email:N,phone:O}}});let P=!!y&&Object.keys(y).length>0,Q=!!n&&n.length>0;if(E.Auth&&P&&(E.Auth.Cognito.loginWith={...E.Auth.Cognito.loginWith,oauth:{...(({domain:a,scope:b,redirectSignIn:c,redirectSignOut:d,responseType:e})=>({domain:a,scopes:b,redirectSignIn:K(c),redirectSignOut:K(d),responseType:e}))(y),...Q&&{providers:n.map(a=>{let b=a.toLowerCase();return b.charAt(0).toUpperCase()+b.slice(1)})}}}),s&&(E.Storage={S3:{bucket:s,region:t,dangerouslyConnectToHttpEndpointForTesting:u}}),x){let{amazon_location_service:a}=x;E.Geo={LocationService:{maps:a.maps,geofenceCollections:a.geofenceCollections,searchIndices:a.search_indices,region:a.region}}}if(A&&(E.API={...E.API,REST:A.reduce((a,b)=>{let{name:c,endpoint:d,region:e,service:f}=b;return{...a,[c]:{endpoint:d,...f?{service:f}:void 0,...e?{region:e}:void 0}}},{})}),z){let{VoiceId:a}=z?.convert?.speechGenerator?.defaults??{};E.Predictions=a?{...z,convert:{...z.convert,speechGenerator:{...z.convert.speechGenerator,defaults:{voiceId:a}}}}:z}return E})(a):!function(a){let{version:b}=a;return!!b&&b.startsWith("1")}(a)?a:function(a){let b={};if(a.storage&&(b.Storage=function(a){if(!a)return;let{bucket_name:b,aws_region:c,buckets:d}=a;return{S3:{bucket:b,region:c,buckets:d&&function(a){let b={};return a.forEach(({name:a,bucket_name:c,aws_region:d,paths:e})=>{if(a in b)throw Error(`Duplicate friendly name found: ${a}. Name must be unique.`);let f=e?Object.entries(e).reduce((a,[b,c])=>(void 0!==c&&(a[b]=c),a),{}):void 0;b[a]={bucketName:c,region:d,paths:f}}),b}(d)}}}(a.storage)),a.auth&&(b.Auth=function(a){var b;if(!a)return;let{user_pool_id:c,user_pool_client_id:d,identity_pool_id:e,password_policy:f,mfa_configuration:g,mfa_methods:h,unauthenticated_identities_enabled:i,oauth:j,username_attributes:k,standard_required_attributes:l,groups:m}=a,n={Cognito:{userPoolId:c,userPoolClientId:d,groups:m}};return e&&(n.Cognito={...n.Cognito,identityPoolId:e}),f&&(n.Cognito.passwordFormat={requireLowercase:f.require_lowercase,requireNumbers:f.require_numbers,requireUppercase:f.require_uppercase,requireSpecialCharacters:f.require_symbols,minLength:f.min_length??6}),g&&(n.Cognito.mfa={status:"OPTIONAL"===(b=g)?"optional":"REQUIRED"===b?"on":"off",smsEnabled:h?.includes("SMS"),totpEnabled:h?.includes("TOTP")}),i&&(n.Cognito.allowGuestAccess=i),j&&(n.Cognito.loginWith={oauth:{domain:j.domain,redirectSignIn:j.redirect_sign_in_uri,redirectSignOut:j.redirect_sign_out_uri,responseType:"token"===j.response_type?"token":"code",scopes:j.scopes,providers:function(a=[]){return a.reduce((a,b)=>(void 0!==M[b]&&a.push(M[b]),a),[])}(j.identity_providers)}}),k&&(n.Cognito.loginWith={...n.Cognito.loginWith,email:k.includes("email"),phone:k.includes("phone_number"),username:k.includes("username")}),l&&(n.Cognito.userAttributes=l.reduce((a,b)=>({...a,[b]:{required:!0}}),{})),n}(a.auth)),a.analytics&&(b.Analytics=function(a){if(!a?.amazon_pinpoint)return;let{amazon_pinpoint:b}=a;return{Pinpoint:{appId:b.app_id,region:b.aws_region}}}(a.analytics)),a.geo&&(b.Geo=function(a){if(!a)return;let{aws_region:b,geofence_collections:c,maps:d,search_indices:e}=a;return{LocationService:{region:b,searchIndices:e,geofenceCollections:c,maps:d}}}(a.geo)),a.data&&(b.API=function(a){if(!a)return;let{aws_region:b,default_authorization_type:c,url:d,api_key:e,model_introspection:f}=a;return{GraphQL:{endpoint:d,defaultAuthMode:L[c],region:b,apiKey:e,modelIntrospection:f}}}(a.data)),a.custom){let c=function(a){if(!a?.events)return;let{url:b,aws_region:c,api_key:d,default_authorization_type:e}=a.events;return{Events:{endpoint:b,defaultAuthMode:L[e],region:c,apiKey:d}}}(a.custom);c&&"Events"in c&&(b.API={...b.API,...c})}return a.notifications&&(b.Notifications=function(a){if(!a)return;let{aws_region:b,channels:c,amazon_pinpoint_app_id:d}=a,e=c.includes("IN_APP_MESSAGING"),f=c.includes("APNS")||c.includes("FCM");if(!(e||f))return;let g={};return e&&(g.InAppMessaging={Pinpoint:{appId:d,region:b}}),f&&(g.PushNotification={Pinpoint:{appId:d,region:b}}),g}(a.notifications)),b}(a);Object.create;Object.create;var O=("function"==typeof SuppressedError&&SuppressedError,new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2])),P=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],Q=function(){function a(){this.state=Int32Array.from(P),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return a.prototype.update=function(a){if(this.finished)throw Error("Attempted to update an already finished hash.");var b=0,c=a.byteLength;if(this.bytesHashed+=c,8*this.bytesHashed>0x1fffffffffffff)throw Error("Cannot hash more than 2^53 - 1 bits");for(;c>0;)this.buffer[this.bufferLength++]=a[b++],c--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},a.prototype.digest=function(){if(!this.finished){var a=8*this.bytesHashed,b=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),c=this.bufferLength;if(b.setUint8(this.bufferLength++,128),c%64>=56){for(var d=this.bufferLength;d<64;d++)b.setUint8(d,0);this.hashBuffer(),this.bufferLength=0}for(var d=this.bufferLength;d<56;d++)b.setUint8(d,0);b.setUint32(56,Math.floor(a/0x100000000),!0),b.setUint32(60,a),this.hashBuffer(),this.finished=!0}for(var e=new Uint8Array(32),d=0;d<8;d++)e[4*d]=this.state[d]>>>24&255,e[4*d+1]=this.state[d]>>>16&255,e[4*d+2]=this.state[d]>>>8&255,e[4*d+3]=this.state[d]>>>0&255;return e},a.prototype.hashBuffer=function(){for(var a=this.buffer,b=this.state,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=0;k<64;k++){if(k<16)this.temp[k]=(255&a[4*k])<<24|(255&a[4*k+1])<<16|(255&a[4*k+2])<<8|255&a[4*k+3];else{var l=this.temp[k-2],m=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10,n=((l=this.temp[k-15])>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[k]=(m+this.temp[k-7]|0)+(n+this.temp[k-16]|0)}var o=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&h^~g&i)|0)+(j+(O[k]+this.temp[k]|0)|0)|0,p=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+(c&d^c&e^d&e)|0;j=i,i=h,h=g,g=f+o|0,f=e,e=d,d=c,c=o+p|0}b[0]+=c,b[1]+=d,b[2]+=e,b[3]+=f,b[4]+=g,b[5]+=h,b[6]+=i,b[7]+=j},a}(),R=a.i(874),S="undefined"!=typeof Buffer&&Buffer.from?function(a){return Buffer.from(a,"utf8")}:a=>{let b=((a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?R.Buffer.from(a,b):R.Buffer.from(a)})(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)};function T(a){return a instanceof Uint8Array?a:"string"==typeof a?S(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}!function(){function a(a){this.secret=a,this.hash=new Q,this.reset()}a.prototype.update=function(a){if(!("string"==typeof a?0===a.length:0===a.byteLength)&&!this.error)try{this.hash.update(T(a))}catch(a){this.error=a}},a.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},a.prototype.digest=function(){var a,b,c,d;return a=this,b=void 0,c=void 0,d=function(){return function(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}}(this,function(a){return[2,this.digestSync()]})},new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},a.prototype.reset=function(){if(this.hash=new Q,this.secret){this.outer=new Q;var a=function(a){var b=T(a);if(b.byteLength>64){var c=new Q;c.update(b),b=c.digest()}var d=new Uint8Array(64);return d.set(b),d}(this.secret),b=new Uint8Array(64);b.set(a);for(var c=0;c<64;c++)a[c]^=54,b[c]^=92;this.hash.update(a),this.outer.update(b);for(var c=0;c<a.byteLength;c++)a[c]=0}}}();let U={},V={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),U[a]=b,V[b]=a}let W=new A("Auth");class X{configure(a,b){this.authConfig=a,this.authOptions=b,a&&a.Cognito?.userPoolEndpoint&&W.warn(Y("Amazon Cognito User Pool")),a&&a.Cognito?.identityPoolEndpoint&&W.warn(Y("Amazon Cognito Identity Pool"))}async fetchAuthSession(a={}){let b,c,d=await this.getTokens(a);return d?(c=d.accessToken?.payload?.sub,b=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:d,authenticated:!0,forceRefresh:a.forceRefresh})):b=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:a.forceRefresh}),{tokens:d,credentials:b?.credentials,identityId:b?.identityId,userSub:c}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(a){return await this.authOptions?.tokenProvider?.getTokens(a)??void 0}}let Y=a=>`You are using a custom Amazon ${a} endpoint, ensure the endpoint is correct.`,Z=new class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new X}configure(a,b){let c=N(a);this.resourcesConfig=c,b&&(this.libraryOptions=b),this.resourcesConfig=G(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),F.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",C),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[H](a){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?a(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=a}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}};function $(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}var _=function a(b,c){function d(a,d,e){if("undefined"!=typeof document){"number"==typeof(e=$({},c,e)).expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),e.expires&&(e.expires=e.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var g in e)e[g]&&(f+="; "+g,!0!==e[g]&&(f+="="+e[g].split(";")[0]));return document.cookie=a+"="+b.write(d,a)+f}}return Object.create({set:d,get:function(a){if("undefined"!=typeof document&&(!arguments.length||a)){for(var c=document.cookie?document.cookie.split("; "):[],d={},e=0;e<c.length;e++){var f=c[e].split("="),g=f.slice(1).join("=");try{var h=decodeURIComponent(f[0]);if(d[h]=b.read(g,h),a===h)break}catch(a){}}return a?d[a]:d}},remove:function(a,b){d(a,"",$({},b,{expires:-1}))},withAttributes:function(b){return a(this.converter,$({},this.attributes,b))},withConverter:function(b){return a($({},this.converter,b),this.attributes)}},{attributes:{value:Object.freeze(c)},converter:{value:Object.freeze(b)}})}({read:function(a){return'"'===a[0]&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class aa{constructor(a={}){let{path:b,domain:c,expires:d,sameSite:e,secure:f}=a;if(this.domain=c,this.path=b||"/",this.expires=Object.prototype.hasOwnProperty.call(a,"expires")?d:365,this.secure=!Object.prototype.hasOwnProperty.call(a,"secure")||f,Object.prototype.hasOwnProperty.call(a,"sameSite")){if(!e||!["strict","lax","none"].includes(e))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e}}async setItem(a,b){_.set(a,b,this.getData())}async getItem(a){return _.get(a)??null}async removeItem(a){_.remove(a,this.getData())}async clear(){let a=Object.keys(_.get()).map(a=>this.removeItem(a));await Promise.all(a)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}!function(a){a.NoEndpointId="NoEndpointId",a.PlatformNotSupported="PlatformNotSupported",a.Unknown="Unknown",a.NetworkError="NetworkError"}(d||(d={}));class ab extends B{constructor(){super({name:d.PlatformNotSupported,message:"Function not supported on current platform"})}}class ac{constructor(a){this.storage=a}async setItem(a,b){if(!this.storage)throw new ab;this.storage.setItem(a,b)}async getItem(a){if(!this.storage)throw new ab;return this.storage.getItem(a)}async removeItem(a){if(!this.storage)throw new ab;this.storage.removeItem(a)}async clear(){if(!this.storage)throw new ab;this.storage.clear()}}class ad{constructor(){this.storage=new Map}get length(){return this.storage.size}key(a){return a>this.length-1?null:Array.from(this.storage.keys())[a]}setItem(a,b){this.storage.set(a,b)}getItem(a){return this.storage.get(a)??null}removeItem(a){this.storage.delete(a)}clear(){this.storage.clear()}}let ae=new A("CoreStorageUtils"),af=()=>{try{throw Error("sessionStorage is not defined")}catch(a){return ae.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new ad}};class ag{constructor(a){this._storage=a}get storage(){if(!this._storage)throw new ab;return this._storage}setItem(a,b){this.storage.setItem(a,b)}getItem(a){return this.storage.getItem(a)}removeItem(a){this.storage.removeItem(a)}clear(){this.storage.clear()}}let ah=new class extends ac{constructor(){super(new ad)}};new class extends ac{constructor(){super(af())}},new class extends ag{constructor(){super(af())}},new ac(new ad),function(a){a.WebUnknown="0",a.React="1",a.NextJs="2",a.Angular="3",a.VueJs="4",a.Nuxt="5",a.Svelte="6",a.ServerSideUnknown="100",a.ReactSSR="101",a.NextJsSSR="102",a.AngularSSR="103",a.VueJsSSR="104",a.NuxtSSR="105",a.SvelteSSR="106",a.ReactNative="201",a.Expo="202"}(e||(e={})),function(a){a.AI="ai",a.API="api",a.Auth="auth",a.Analytics="analytics",a.DataStore="datastore",a.Geo="geo",a.InAppMessaging="inappmessaging",a.Interactions="interactions",a.Predictions="predictions",a.PubSub="pubsub",a.PushNotification="pushnotification",a.Storage="storage"}(f||(f={})),function(a){a.CreateConversation="1",a.GetConversation="2",a.ListConversations="3",a.DeleteConversation="4",a.SendMessage="5",a.ListMessages="6",a.OnMessage="7",a.Generation="8",a.UpdateConversation="9"}(g||(g={})),function(a){a.Record="1",a.IdentifyUser="2"}(h||(h={})),function(a){a.GraphQl="1",a.Get="2",a.Post="3",a.Put="4",a.Patch="5",a.Del="6",a.Head="7"}(i||(i={})),function(a){a.SignUp="1",a.ConfirmSignUp="2",a.ResendSignUpCode="3",a.SignIn="4",a.FetchMFAPreference="6",a.UpdateMFAPreference="7",a.SetUpTOTP="10",a.VerifyTOTPSetup="11",a.ConfirmSignIn="12",a.DeleteUserAttributes="15",a.DeleteUser="16",a.UpdateUserAttributes="17",a.FetchUserAttributes="18",a.ConfirmUserAttribute="22",a.SignOut="26",a.UpdatePassword="27",a.ResetPassword="28",a.ConfirmResetPassword="29",a.FederatedSignIn="30",a.RememberDevice="32",a.ForgetDevice="33",a.FetchDevices="34",a.SendUserAttributeVerificationCode="35",a.SignInWithRedirect="36",a.StartWebAuthnRegistration="37",a.CompleteWebAuthnRegistration="38",a.ListWebAuthnCredentials="39",a.DeleteWebAuthnCredential="40"}(j||(j={})),function(a){a.Subscribe="1",a.GraphQl="2"}(k||(k={})),function(a){a.SearchByText="0",a.SearchByCoordinates="1",a.SearchForSuggestions="2",a.SearchByPlaceId="3",a.SaveGeofences="4",a.GetGeofence="5",a.ListGeofences="6",a.DeleteGeofences="7"}(l||(l={})),function(a){a.SyncMessages="1",a.IdentifyUser="2",a.NotifyMessageInteraction="3"}(m||(m={})),(n||(n={})).None="0",function(a){a.Convert="1",a.Identify="2",a.Interpret="3"}(o||(o={})),(p||(p={})).Subscribe="1",function(a){a.InitializePushNotifications="1",a.IdentifyUser="2"}(q||(q={})),function(a){a.UploadData="1",a.DownloadData="2",a.List="3",a.Copy="4",a.Remove="5",a.GetProperties="6",a.GetUrl="7",a.GetDataAccess="8",a.ListCallerAccessGrants="9"}(r||(r={}));let ai="6.15.5",aj=(a,b)=>!!Object.keys(a).find(a=>a.startsWith(b)),ak=[{platform:e.Expo,detectionMethod:function(){return void 0!==a.g.expo}},{platform:e.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:e.NextJs,detectionMethod:function(){return!1}},{platform:e.Nuxt,detectionMethod:function(){return!1}},{platform:e.Angular,detectionMethod:function(){return!!("undefined"!=typeof document&&document.querySelector("[ng-version]"))}},{platform:e.React,detectionMethod:function(){let a=a=>a.startsWith("_react")||a.startsWith("__react");return"undefined"!=typeof document&&Array.from(document.querySelectorAll("[id]")).some(b=>Object.keys(b).find(a))}},{platform:e.VueJs,detectionMethod:function(){return!1}},{platform:e.Svelte,detectionMethod:function(){return!1}},{platform:e.WebUnknown,detectionMethod:function(){return!1}},{platform:e.NextJsSSR,detectionMethod:function(){return aj(a.g,"__next")||aj(a.g,"__NEXT")}},{platform:e.NuxtSSR,detectionMethod:function(){return void 0!==a.g.__NUXT_PATHS__}},{platform:e.ReactSSR,detectionMethod:function(){return"undefined"!=typeof process&&void 0!==process.env&&!!Object.keys(process.env).find(a=>a.includes("react"))}},{platform:e.VueJsSSR,detectionMethod:function(){return aj(a.g,"__VUE")}},{platform:e.AngularSSR,detectionMethod:function(){return"undefined"!=typeof process&&"object"==typeof process.env&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:e.SvelteSSR,detectionMethod:function(){return"undefined"!=typeof process&&void 0!==process.env&&!!Object.keys(process.env).find(a=>a.includes("svelte"))}}],al=[],am=!1,an=()=>{if(!b){if(b=ak.find(a=>a.detectionMethod())?.platform||e.ServerSideUnknown,am)for(;al.length;)al.pop()?.();else al.forEach(a=>{a()});ao(e.ServerSideUnknown,10),ao(e.WebUnknown,10)}return b};function ao(a,c){b!==a||am||setTimeout(()=>{b=void 0,am=!0,setTimeout(an,1e3)},c)}let ap={},aq="aws-amplify",ar=a=>a.replace(/\+.*/,"");new class{constructor(){this.userAgent=`${aq}/${ar(ai)}`}get framework(){return an()}get isReactNative(){return this.framework===e.ReactNative||this.framework===e.Expo}observeFrameworkChanges(a){am||al.push(a)}};let as=a=>(({category:a,action:b}={})=>{let c=[[aq,ar(ai)]];if(a&&c.push([a,b]),c.push(["framework",an()]),a&&b){let d=ap[a]?.[b]?.additionalDetails;d&&d.forEach(a=>{c.push(a)})}return c})(a).map(([a,b])=>a&&b?`${a}/${b}`:a).join(" "),at=a=>{let{headers:b,statusCode:c}=a;return{...au(a)?a.$metadata:{},httpStatusCode:c,requestId:b["x-amzn-requestid"]??b["x-amzn-request-id"]??b["x-amz-request-id"],extendedRequestId:b["x-amz-id-2"],cfId:b["x-amz-cf-id"]}},au=a=>"object"==typeof a?.$metadata,av=async a=>{if(!a||a.statusCode<300)return;let b=await aw(a),c=(a=>{let[b]=a.toString().split(/[,:]+/);return b.includes("#")?b.split("#")[1]:b})(a.headers["x-amzn-errortype"]??b.code??b.__type??"UnknownError");return Object.assign(Error(b.message??b.Message??"Unknown error"),{name:c,$metadata:at(a)})},aw=async a=>{if(!a.body)throw Error("Missing response payload");return Object.assign(await a.body.json(),{$metadata:at(a)})},ax=(a,b,c,d)=>async(e,f)=>{let g={...d,...e},h=await g.endpointResolver(g,f),i=await b(f,h);return c(await a(i,{...g}))},ay=3,az="amz-sdk-invocation-id",aA=a=>{let b=(function(a=3e5){return b=>{let c=2**b*100+100*Math.random();return!(c>a)&&c}})(3e5)(a);return!1===b?3e5:b},aB=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],aC=a=>async(b,c)=>{let d=c??await a(b)??void 0,e=d?.code||d?.name,f=b?.statusCode;return{retryable:aG(c)||aF(f,e)||(a=>!!a&&aB.includes(a))(e)||aH(f,e)}},aD=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],aE=["TimeoutError","RequestTimeout","RequestTimeoutException"],aF=(a,b)=>429===a||!!b&&aD.includes(b),aG=a=>[d.NetworkError,"ERR_NETWORK"].includes(a?.name),aH=(a,b)=>!!a&&[500,502,503,504].includes(a)||!!b&&aE.includes(b),aI="cognito-identity",aJ={service:aI,retryDecider:aC(av),computeDelay:aA,cache:"no-store"},aK=(a,b)=>{let c,d;if(b?.aborted)return Promise.resolve();let e=new Promise(b=>{d=b,c=setTimeout(b,a)});return b?.addEventListener("abort",function a(e){clearTimeout(c),b?.removeEventListener("abort",a),d()}),e},aL=(a,b)=>{"[object Object]"===Object.prototype.toString.call(a)&&(a.$metadata={...a.$metadata??{},attempts:b})};var aM=a.i(54799);let aN={randomUUID:aM.randomUUID},aO=new Uint8Array(256),aP=aO.length,aQ=[];for(let a=0;a<256;++a)aQ.push((a+256).toString(16).slice(1));let aR=function(a,b,c){if(aN.randomUUID&&!b&&!a)return aN.randomUUID();let d=(a=a||{}).random??a.rng?.()??(aP>aO.length-16&&((0,aM.randomFillSync)(aO),aP=0),aO.slice(aP,aP+=16));if(d.length<16)throw Error("Random bytes length must be >= 16");if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){if((c=c||0)<0||c+16>b.length)throw RangeError(`UUID byte range ${c}:${c+15} is out of buffer bounds`);for(let a=0;a<16;++a)b[c+a]=d[a];return b}return function(a,b=0){return(aQ[a[b+0]]+aQ[a[b+1]]+aQ[a[b+2]]+aQ[a[b+3]]+"-"+aQ[a[b+4]]+aQ[a[b+5]]+"-"+aQ[a[b+6]]+aQ[a[b+7]]+"-"+aQ[a[b+8]]+aQ[a[b+9]]+"-"+aQ[a[b+10]]+aQ[a[b+11]]+aQ[a[b+12]]+aQ[a[b+13]]+aQ[a[b+14]]+aQ[a[b+15]]).toLowerCase()}(d)},aS=(a,b)=>(c,d)=>{let e={},f=b=>a(b,d);for(let a=b.length-1;a>=0;a--)f=(0,b[a])(d)(f,e);return f(c)},aT=a=>{let b;return()=>(b||(b=a()),b)},aU=aS(async({url:a,method:b,headers:c,body:e},{abortSignal:f,cache:g,withCrossDomainCredentials:h})=>{let i;try{i=await fetch(a,{method:b,headers:c,body:["HEAD","GET"].includes(b.toUpperCase())?void 0:e,signal:f,cache:g,credentials:h?"include":"same-origin"})}catch(a){if(a instanceof TypeError)throw new B({name:d.NetworkError,message:"A network error has occurred.",underlyingError:a});throw a}let j={};i.headers?.forEach((a,b)=>{j[b.toLowerCase()]=a});let k={statusCode:i.status,headers:j,body:null},l=Object.assign(i.body??{},{text:aT(()=>i.text()),blob:aT(()=>i.blob()),json:aT(()=>i.json())});return{...k,body:l}},[({userAgentHeader:a="x-amz-user-agent",userAgentValue:b=""})=>c=>async function(d){if(0===b.trim().length)return await c(d);{let e=a.toLowerCase();return d.headers[e]=d.headers[e]?`${d.headers[e]} ${b}`:b,await c(d)}},()=>a=>async function(b){return b.headers[az]||(b.headers[az]=aR()),a(b)},({maxAttempts:a=ay,retryDecider:b,computeDelay:c,abortSignal:d})=>{if(a<1)throw Error("maxAttempts must be greater than 0");return(e,f)=>async function(g){let h,i,j=f.attemptsCount??0,k=()=>{if(i)return aL(i,j),i;throw aL(h,j),h};for(;!d?.aborted&&j<a;){try{i=await e(g),h=void 0}catch(a){h=a,i=void 0}j=(f.attemptsCount??0)>j?f.attemptsCount??0:j+1,f.attemptsCount=j;let{isCredentialsExpiredError:l,retryable:m}=await b(i,h,f);if(!m)return k();if(f.isCredentialsExpired=!!l,!d?.aborted&&j<a){let a=c(j);await aK(a,d)}}if(!d?.aborted)return k();throw Error("Request aborted.")}},({maxAttempts:a=ay})=>(b,c)=>async function(d){let e=c.attemptsCount??0;return d.headers["amz-sdk-request"]=`attempt=${e+1}; max=${a}`,b(d)}]),aV=aS(aU,[()=>a=>async function(b){return b.headers["cache-control"]="no-store",a(b)}]),aW=a=>(b,c)=>aY(c,aX(a),JSON.stringify(b)),aX=a=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${a}`}),aY=({url:a},b,c)=>({headers:b,url:a,body:c,method:"POST"}),aZ=a=>ax(aV,aW("GetCredentialsForIdentity"),a$,{...aJ,...a,userAgentValue:as()}),a$=async a=>{if(a.statusCode>=300)throw await av(a);let b=await aw(a);return{IdentityId:b.IdentityId,Credentials:a_(b.Credentials),$metadata:at(a)}},a_=({Expiration:a,...b}={})=>({...b,Expiration:a&&new Date(1e3*a)}),a0={convert(a,b){let c=a;return b?.urlSafe&&(c=c.replace(/-/g,"+").replace(/_/g,"/")),(()=>{if("function"==typeof atob)return atob;throw new B({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(c)}},a1=(a,b=B)=>(c,d,e)=>{let{message:f,recoverySuggestion:g}=a[d];if(!c)throw new b({name:d,message:e?`${f} ${e}`:f,recoverySuggestion:g})};!function(a){a.AuthTokenConfigException="AuthTokenConfigException",a.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",a.AuthUserPoolException="AuthUserPoolException",a.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",a.OAuthNotConfigureException="OAuthNotConfigureException"}(s||(s={}));let a2=a1({[s.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[s.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[s.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[s.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[s.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function a3(a){a2(!!a&&!!a.userPoolId&&!!a.userPoolClientId,s.AuthUserPoolException)}function a4(a){a2(!!a?.identityPoolId,s.InvalidIdentityPoolIdException)}function a5(a){let b=a.split(".");if(3!==b.length)throw Error("Invalid token");try{let c=b[1].replace(/-/g,"+").replace(/_/g,"/"),d=decodeURIComponent(a0.convert(c).split("").map(a=>`%${`00${a.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),e=JSON.parse(d);return{toString:()=>a,payload:e}}catch(a){throw Error("Invalid token payload")}}class a6 extends B{constructor(a){super(a),this.constructor=a6,Object.setPrototypeOf(this,a6.prototype)}}function a7(a){if(!a||"Error"===a.name||a instanceof TypeError)throw new a6({name:d.Unknown,message:"An unknown error has occurred.",underlyingError:a})}function a8(a){if(!a||!a.includes(":"))throw new a6({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return a.split(":")[0]}let a9="UserUnAuthenticatedException";new a6({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new a6({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new a6({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new a6({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});let ba=new a6({name:"TokenRefreshException",message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),bb=new a6({name:a9,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."}),bc={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function bd(a){return a?.accessToken||a?.idToken}let be={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},bf={partitions:[be,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},bg=a=>{let{partitions:b}=bf;for(let{regions:c,outputs:d,regionRegex:e}of b){let b=new RegExp(e);if(c.includes(a)||b.test(a))return d.dnsSuffix}return be.outputs.dnsSuffix},bh=URL;URLSearchParams;let bi=({endpointOverride:a})=>b=>a?{url:new bh(a)}:(({region:a})=>({url:new bh(`https://${aI}.${a}.${bg(a)}`)}))(b),bj=async a=>{if(a.statusCode>=300)throw await av(a);return{IdentityId:(await aw(a)).IdentityId,$metadata:at(a)}};function bk(a){let b=a5(a).payload.iss,c={};if(!b)throw new a6({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return c[b.replace(/(^\w+:|^)\/\//,"")]=a,c}async function bl({tokens:a,authConfig:b,identityIdStore:c}){c.setAuthConfig({Cognito:b});let d=await c.loadIdentityId();if(d)return d.id;let e=a?.idToken?bk(a.idToken.toString()):{},f=await bm(e,b);return c.storeIdentityId({id:f,type:a?"primary":"guest"}),f}async function bm(a,b){let c,d,e=b?.identityPoolId,f=a8(e),g=(d={endpointResolver:bi({endpointOverride:b.identityPoolEndpoint})},ax(aV,aW("GetId"),bj,{...aJ,...d,userAgentValue:as()}));try{c=(await g({region:f},{IdentityPoolId:e,Logins:a})).IdentityId}catch(a){throw a7(a),new a6(a)}if(!c)throw new a6({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return c}let bn=new A("CognitoCredentialsProvider");class bo{constructor(a){this._nextCredentialsRefresh=0,this._identityIdStore=a}async clearCredentialsAndIdentityId(){bn.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){bn.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(a){let b=a.authenticated,{tokens:c}=a,{authConfig:d}=a;try{a4(d?.Cognito)}catch{return}if(!b&&!d.Cognito.allowGuestAccess)return;let{forceRefresh:e}=a,f=this.hasTokenChanged(c),g=await bl({tokens:c,authConfig:d.Cognito,identityIdStore:this._identityIdStore});if((e||f)&&this.clearCredentials(),!b)return this.getGuestCredentials(g,d.Cognito);if(!c||!c.idToken)throw new a6({name:a9,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});return this.credsForOIDCTokens(d.Cognito,c,g)}async getGuestCredentials(a,b){let c;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return bn.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let d=a8(b.identityPoolId),e=aZ({endpointResolver:bi({endpointOverride:b.identityPoolEndpoint})});try{c=await e({region:d},{IdentityId:a})}catch(a){throw a7(a),new a6(a)}if(c?.Credentials?.AccessKeyId&&c?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let b={credentials:{accessKeyId:c.Credentials.AccessKeyId,secretAccessKey:c.Credentials.SecretKey,sessionToken:c.Credentials.SessionToken,expiration:c.Credentials.Expiration},identityId:a};return c.IdentityId&&(b.identityId=c.IdentityId,this._identityIdStore.storeIdentityId({id:c.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...b,isAuthenticatedCreds:!1},b}throw new a6({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(a,b,c){let d;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return bn.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let e=b.idToken?bk(b.idToken.toString()):{},f=a8(a.identityPoolId),g=aZ({endpointResolver:bi({endpointOverride:a.identityPoolEndpoint})});try{d=await g({region:f},{IdentityId:c,Logins:e})}catch(a){throw a7(a),new a6(a)}if(d?.Credentials?.AccessKeyId&&d?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let a={credentials:{accessKeyId:d.Credentials.AccessKeyId,secretAccessKey:d.Credentials.SecretKey,sessionToken:d.Credentials.SessionToken,expiration:d.Credentials.Expiration},identityId:c};return d.IdentityId&&(a.identityId=d.IdentityId,this._identityIdStore.storeIdentityId({id:d.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...a,isAuthenticatedCreds:!0,associatedIdToken:b.idToken?.toString()},a}throw new a6({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(a){return!!a&&!!this._credentialsAndIdentityId?.associatedIdToken&&a.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}let bp={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};(t||(t={})).InvalidAuthTokens="InvalidAuthTokens";let bq=a1({[t.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}}),br="CognitoIdentityServiceProvider";class bs{getKeyValueStorage(){if(!this.keyValueStorage)throw new a6({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(a){this.keyValueStorage=a}setAuthConfig(a){this.authConfig=a}async loadTokens(){try{let a=await this.getAuthKeys(),b=await this.getKeyValueStorage().getItem(a.accessToken);if(!b)throw new a6({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let c=a5(b),d=await this.getKeyValueStorage().getItem(a.idToken),e=d?a5(d):void 0,f=await this.getKeyValueStorage().getItem(a.refreshToken)??void 0,g=await this.getKeyValueStorage().getItem(a.clockDrift)??"0",h=Number.parseInt(g),i=await this.getKeyValueStorage().getItem(a.signInDetails),j={accessToken:c,idToken:e,refreshToken:f,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:h,username:await this.getLastAuthUser()};return i&&(j.signInDetails=JSON.parse(i)),j}catch(a){return null}}async storeTokens(a){bq(void 0!==a,t.InvalidAuthTokens);let b=a.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),b);let c=await this.getAuthKeys();await this.getKeyValueStorage().setItem(c.accessToken,a.accessToken.toString()),a.idToken?await this.getKeyValueStorage().setItem(c.idToken,a.idToken.toString()):await this.getKeyValueStorage().removeItem(c.idToken),a.refreshToken?await this.getKeyValueStorage().setItem(c.refreshToken,a.refreshToken):await this.getKeyValueStorage().removeItem(c.refreshToken),a.deviceMetadata&&(a.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(c.deviceKey,a.deviceMetadata.deviceKey),a.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(c.deviceGroupKey,a.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(c.randomPasswordKey,a.deviceMetadata.randomPassword)),a.signInDetails?await this.getKeyValueStorage().setItem(c.signInDetails,JSON.stringify(a.signInDetails)):await this.getKeyValueStorage().removeItem(c.signInDetails),await this.getKeyValueStorage().setItem(c.clockDrift,`${a.clockDrift}`)}async clearTokens(){let a=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(a.accessToken),this.getKeyValueStorage().removeItem(a.idToken),this.getKeyValueStorage().removeItem(a.clockDrift),this.getKeyValueStorage().removeItem(a.refreshToken),this.getKeyValueStorage().removeItem(a.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(a.oauthMetadata)])}async getDeviceMetadata(a){let b=await this.getAuthKeys(a),c=await this.getKeyValueStorage().getItem(b.deviceKey),d=await this.getKeyValueStorage().getItem(b.deviceGroupKey),e=await this.getKeyValueStorage().getItem(b.randomPasswordKey);return e&&d&&c?{deviceKey:c,deviceGroupKey:d,randomPassword:e}:null}async clearDeviceMetadata(a){let b=await this.getAuthKeys(a);await Promise.all([this.getKeyValueStorage().removeItem(b.deviceKey),this.getKeyValueStorage().removeItem(b.deviceGroupKey),this.getKeyValueStorage().removeItem(b.randomPasswordKey)])}async getAuthKeys(a){a3(this.authConfig?.Cognito);let b=a??await this.getLastAuthUser();return bt(br,`${this.authConfig.Cognito.userPoolClientId}.${b}`)}getLastAuthUserKey(){a3(this.authConfig?.Cognito);let a=this.authConfig.Cognito.userPoolClientId;return`${br}.${a}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(a){let{oauthMetadata:b}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(b,JSON.stringify(a))}async getOAuthMetadata(){let{oauthMetadata:a}=await this.getAuthKeys(),b=await this.getKeyValueStorage().getItem(a);return b&&JSON.parse(b)}}let bt=(a,b)=>bu(bp)(`${a}`,b);function bu(a){let b=Object.values({...a});return(a,c)=>b.reduce((b,d)=>({...b,[d]:`${a}.${c}.${d}`}),{})}let bv={identityId:"identityId"},bw=new A("DefaultIdentityIdStore");class bx{setAuthConfig(a){a4(a.Cognito),this.authConfig=a,this._authKeys=by("Cognito",a.Cognito.identityPoolId)}constructor(a){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=a}async loadIdentityId(){a4(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let a=await this.keyValueStorage.getItem(this._authKeys.identityId);if(a)return this._hasGuestIdentityId=!0,{id:a,type:"guest"};return null}}catch(a){return bw.log("Error getting stored IdentityId.",a),null}}async storeIdentityId(a){a4(this.authConfig?.Cognito),"guest"===a.type?(this.keyValueStorage.setItem(this._authKeys.identityId,a.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=a.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let by=(a,b)=>bu(bv)(`com.amplify.${a}`,b),bz=new bo(new bx(ah)),bA="cognito-idp",bB=aS(aU,[()=>(a,b)=>async function(b){return b.headers["cache-control"]="no-store",a(b)}]),bC={service:bA,retryDecider:aC(av),computeDelay:aA,get userAgentValue(){return as()},cache:"no-store"},bD=(a=>{let b;return async(...c)=>b||(b=new Promise((d,e)=>{a(...c).then(a=>{d(a)}).catch(a=>{e(a)}).finally(()=>{b=void 0})}))})(async({tokens:a,authConfig:b,username:c})=>{a3(b?.Cognito);let{userPoolId:d,userPoolClientId:e,userPoolEndpoint:f}=b.Cognito,g=function(a){let b=a?.split("_")[0];if(!a||0>a.indexOf("_")||!b||"string"!=typeof b)throw new a6({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return b}(d);!function(a){var b,c;if(bd(b=a)&&!b?.refreshToken)throw ba;if(!(bd(c=a)&&c?.refreshToken))throw bb}(a);let h=(a=>ax(bB,(a,b)=>(({url:a},b,c)=>({headers:b,url:a,body:c,method:"POST"}))(b,{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityProviderService.GetTokensFromRefreshToken"},JSON.stringify(a)),async a=>{if(a.statusCode>=300){let b=await av(a);throw a7(b),new a6({name:b.name,message:b.message,metadata:b.$metadata})}return aw(a)},{...bC,...a}))({endpointResolver:(({endpointOverride:a})=>b=>a?{url:new bh(a)}:(({region:a})=>({url:new bh(`https://${bA}.${a}.${bg(a)}`)}))(b))({endpointOverride:f})}),{AuthenticationResult:i}=await h({region:g},{ClientId:e,RefreshToken:a.refreshToken,DeviceKey:a.deviceMetadata?.deviceKey}),j=a5(i?.AccessToken??""),k=i?.IdToken?a5(i.IdToken):void 0,{iat:l}=j.payload;if(!l)throw new a6({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:j,idToken:k,clockDrift:1e3*l-new Date().getTime(),refreshToken:i?.RefreshToken??a.refreshToken,username:c}});function bE({expiresAt:a,clockDrift:b,tolerance:c=5e3}){return Date.now()+b+c>a}let bF="amplify-signin-with-hostedUI",bG="CognitoIdentityServiceProvider",bH=(a,b)=>bu(bc)(a,b),bI=new class{constructor(a){this.keyValueStorage=a}async clearOAuthInflightData(){a3(this.cognitoConfig);let a=bH(bG,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(a.inflightOAuth),this.keyValueStorage.removeItem(a.oauthPKCE),this.keyValueStorage.removeItem(a.oauthState)])}async clearOAuthData(){a3(this.cognitoConfig);let a=bH(bG,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(bF),this.keyValueStorage.removeItem(a.oauthSignIn)}loadOAuthState(){a3(this.cognitoConfig);let a=bH(bG,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(a.oauthState)}storeOAuthState(a){a3(this.cognitoConfig);let b=bH(bG,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(b.oauthState,a)}loadPKCE(){a3(this.cognitoConfig);let a=bH(bG,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(a.oauthPKCE)}storePKCE(a){a3(this.cognitoConfig);let b=bH(bG,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(b.oauthPKCE,a)}setAuthConfig(a){this.cognitoConfig=a}async loadOAuthInFlight(){a3(this.cognitoConfig);let a=bH(bG,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(a.inflightOAuth)==="true"}async storeOAuthInFlight(a){a3(this.cognitoConfig);let b=bH(bG,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(b.inflightOAuth,`${a}`)}async loadOAuthSignIn(){a3(this.cognitoConfig);let a=bH(bG,this.cognitoConfig.userPoolClientId),b=await this.keyValueStorage.getItem(bF),[c,d]=(await this.keyValueStorage.getItem(a.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===c||"true"===b,preferPrivateSession:"true"===d}}async storeOAuthSignIn(a,b=!1){a3(this.cognitoConfig);let c=bH(bG,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(c.oauthSignIn,`${a},${b}`)}}(ah);class bJ{constructor(){this.waitForInflightOAuth=async()=>{}}setAuthConfig(a){bI.setAuthConfig(a.Cognito),this.authConfig=a}setTokenRefresher(a){this.tokenRefresher=a}setAuthTokenStore(a){this.tokenStore=a}getTokenStore(){if(!this.tokenStore)throw new a6({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new a6({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(a){let b;try{a3(this.authConfig?.Cognito)}catch(a){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,b=await this.getTokenStore().loadTokens();let c=await this.getTokenStore().getLastAuthUser();if(null===b)return null;let d=!!b?.idToken&&bE({expiresAt:(b.idToken?.payload?.exp??0)*1e3,clockDrift:b.clockDrift??0}),e=bE({expiresAt:(b.accessToken?.payload?.exp??0)*1e3,clockDrift:b.clockDrift??0});return(a?.forceRefresh||d||e)&&null===(b=await this.refreshTokens({tokens:b,username:c}))?null:{accessToken:b?.accessToken,idToken:b?.idToken,signInDetails:b?.signInDetails}}async refreshTokens({tokens:a,username:b}){try{let{signInDetails:c}=a,d=await this.getTokenRefresher()({tokens:a,authConfig:this.authConfig,username:b});return d.signInDetails=c,await this.setTokens({tokens:d}),F.dispatch("auth",{event:"tokenRefresh"},"Auth",C),d}catch(a){return this.handleErrors(a)}}handleErrors(a){if(a7(a),a.name!==d.NetworkError&&this.clearTokens(),F.dispatch("auth",{event:"tokenRefresh_failure",data:{error:a}},"Auth",C),a.name.startsWith("NotAuthorizedException"))return null;throw a}async setTokens({tokens:a}){return this.getTokenStore().storeTokens(a)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(a){return this.getTokenStore().getDeviceMetadata(a)}clearDeviceMetadata(a){return this.getTokenStore().clearDeviceMetadata(a)}setOAuthMetadata(a){return this.getTokenStore().setOAuthMetadata(a)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}let bK=new class{constructor(){this.authTokenStore=new bs,this.authTokenStore.setKeyValueStorage(ah),this.tokenOrchestrator=new bJ,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(bD)}getTokens({forceRefresh:a}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:a})}setKeyValueStorage(a){this.authTokenStore.setKeyValueStorage(a)}setAuthConfig(a){this.authTokenStore.setAuthConfig(a),this.tokenOrchestrator.setAuthConfig(a)}},{tokenOrchestrator:bL}=bK;var bM=a.i(42570);({configure(a,b){let c=N(a),d=new aa({sameSite:"lax"}),e=b?.ssr?d:ah,f=b?.ssr?new bo(new bx(d)):bz;if(!c.Auth||b?.Auth)return void Z.configure(c,b);if(!Z.libraryOptions.Auth){bK.setAuthConfig(c.Auth),bK.setKeyValueStorage(e),Z.configure(c,{...b,Auth:{tokenProvider:bK,credentialsProvider:f}});return}if(b){let a=Z.libraryOptions.Auth;void 0!==b.ssr&&(bK.setKeyValueStorage(e),a.credentialsProvider=f),Z.configure(c,{Auth:a,...b});return}Z.configure(c)},getConfig:()=>Z.getConfig()}).configure(bM.default);let bN={title:"Christmas Store Registration",description:"Register for the Christmas Store event"};function bO({children:a}){return(0,u.jsx)("html",{lang:"en",children:(0,u.jsx)("body",{className:`${w.variable} ${y.variable} antialiased`,children:a})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__35a43c48._.js.map